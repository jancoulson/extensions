!function(e){function t(t){for(var a,o,u=t[0],i=t[1],c=t[2],d=0,f=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(s&&s(t);f.length;)f.shift()();return l.push.apply(l,c||[]),r()}function r(){for(var e,t=0;t<l.length;t++){for(var r=l[t],a=!0,u=1;u<r.length;u++){var i=r[u];0!==n[i]&&(a=!1)}a&&(l.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={0:0},l=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var s=i;l.push([673,1]),r()}({1059:function(e,t,r){var a={"./af":444,"./af.js":444,"./ar":445,"./ar-dz":446,"./ar-dz.js":446,"./ar-kw":447,"./ar-kw.js":447,"./ar-ly":448,"./ar-ly.js":448,"./ar-ma":449,"./ar-ma.js":449,"./ar-sa":450,"./ar-sa.js":450,"./ar-tn":451,"./ar-tn.js":451,"./ar.js":445,"./az":452,"./az.js":452,"./be":453,"./be.js":453,"./bg":454,"./bg.js":454,"./bm":455,"./bm.js":455,"./bn":456,"./bn-bd":457,"./bn-bd.js":457,"./bn.js":456,"./bo":458,"./bo.js":458,"./br":459,"./br.js":459,"./bs":460,"./bs.js":460,"./ca":461,"./ca.js":461,"./cs":462,"./cs.js":462,"./cv":463,"./cv.js":463,"./cy":464,"./cy.js":464,"./da":465,"./da.js":465,"./de":466,"./de-at":467,"./de-at.js":467,"./de-ch":468,"./de-ch.js":468,"./de.js":466,"./dv":469,"./dv.js":469,"./el":470,"./el.js":470,"./en-au":471,"./en-au.js":471,"./en-ca":472,"./en-ca.js":472,"./en-gb":473,"./en-gb.js":473,"./en-ie":474,"./en-ie.js":474,"./en-il":475,"./en-il.js":475,"./en-in":476,"./en-in.js":476,"./en-nz":477,"./en-nz.js":477,"./en-sg":478,"./en-sg.js":478,"./eo":479,"./eo.js":479,"./es":480,"./es-do":481,"./es-do.js":481,"./es-mx":482,"./es-mx.js":482,"./es-us":483,"./es-us.js":483,"./es.js":480,"./et":484,"./et.js":484,"./eu":485,"./eu.js":485,"./fa":486,"./fa.js":486,"./fi":487,"./fi.js":487,"./fil":488,"./fil.js":488,"./fo":489,"./fo.js":489,"./fr":490,"./fr-ca":491,"./fr-ca.js":491,"./fr-ch":492,"./fr-ch.js":492,"./fr.js":490,"./fy":493,"./fy.js":493,"./ga":494,"./ga.js":494,"./gd":495,"./gd.js":495,"./gl":496,"./gl.js":496,"./gom-deva":497,"./gom-deva.js":497,"./gom-latn":498,"./gom-latn.js":498,"./gu":499,"./gu.js":499,"./he":500,"./he.js":500,"./hi":501,"./hi.js":501,"./hr":502,"./hr.js":502,"./hu":503,"./hu.js":503,"./hy-am":504,"./hy-am.js":504,"./id":505,"./id.js":505,"./is":506,"./is.js":506,"./it":507,"./it-ch":508,"./it-ch.js":508,"./it.js":507,"./ja":509,"./ja.js":509,"./jv":510,"./jv.js":510,"./ka":511,"./ka.js":511,"./kk":512,"./kk.js":512,"./km":513,"./km.js":513,"./kn":514,"./kn.js":514,"./ko":515,"./ko.js":515,"./ku":516,"./ku.js":516,"./ky":517,"./ky.js":517,"./lb":518,"./lb.js":518,"./lo":519,"./lo.js":519,"./lt":520,"./lt.js":520,"./lv":521,"./lv.js":521,"./me":522,"./me.js":522,"./mi":523,"./mi.js":523,"./mk":524,"./mk.js":524,"./ml":525,"./ml.js":525,"./mn":526,"./mn.js":526,"./mr":527,"./mr.js":527,"./ms":528,"./ms-my":529,"./ms-my.js":529,"./ms.js":528,"./mt":530,"./mt.js":530,"./my":531,"./my.js":531,"./nb":532,"./nb.js":532,"./ne":533,"./ne.js":533,"./nl":534,"./nl-be":535,"./nl-be.js":535,"./nl.js":534,"./nn":536,"./nn.js":536,"./oc-lnc":537,"./oc-lnc.js":537,"./pa-in":538,"./pa-in.js":538,"./pl":539,"./pl.js":539,"./pt":540,"./pt-br":541,"./pt-br.js":541,"./pt.js":540,"./ro":542,"./ro.js":542,"./ru":543,"./ru.js":543,"./sd":544,"./sd.js":544,"./se":545,"./se.js":545,"./si":546,"./si.js":546,"./sk":547,"./sk.js":547,"./sl":548,"./sl.js":548,"./sq":549,"./sq.js":549,"./sr":550,"./sr-cyrl":551,"./sr-cyrl.js":551,"./sr.js":550,"./ss":552,"./ss.js":552,"./sv":553,"./sv.js":553,"./sw":554,"./sw.js":554,"./ta":555,"./ta.js":555,"./te":556,"./te.js":556,"./tet":557,"./tet.js":557,"./tg":558,"./tg.js":558,"./th":559,"./th.js":559,"./tk":560,"./tk.js":560,"./tl-ph":561,"./tl-ph.js":561,"./tlh":562,"./tlh.js":562,"./tr":563,"./tr.js":563,"./tzl":564,"./tzl.js":564,"./tzm":565,"./tzm-latn":566,"./tzm-latn.js":566,"./tzm.js":565,"./ug-cn":567,"./ug-cn.js":567,"./uk":568,"./uk.js":568,"./ur":569,"./ur.js":569,"./uz":570,"./uz-latn":571,"./uz-latn.js":571,"./uz.js":570,"./vi":572,"./vi.js":572,"./x-pseudo":573,"./x-pseudo.js":573,"./yo":574,"./yo.js":574,"./zh-cn":575,"./zh-cn.js":575,"./zh-hk":576,"./zh-hk.js":576,"./zh-mo":577,"./zh-mo.js":577,"./zh-tw":578,"./zh-tw.js":578};function n(e){var t=l(e);return r(t)}function l(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=l,e.exports=n,n.id=1059},108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CATEGORIES",{enumerable:!0,get:function(){return n.CATEGORIES}}),Object.defineProperty(t,"CmsSelect",{enumerable:!0,get:function(){return a.CmsSelect}}),Object.defineProperty(t,"SCHEMAS",{enumerable:!0,get:function(){return n.SCHEMAS}}),Object.defineProperty(t,"cmsApi",{enumerable:!0,get:function(){return l.cmsApi}}),Object.defineProperty(t,"createCategory",{enumerable:!0,get:function(){return n.createCategory}}),t.default=void 0,Object.defineProperty(t,"deleteResource",{enumerable:!0,get:function(){return n.deleteResource}}),Object.defineProperty(t,"loadResources",{enumerable:!0,get:function(){return n.loadResources}}),Object.defineProperty(t,"moduleName",{enumerable:!0,get:function(){return n.moduleName}}),Object.defineProperty(t,"navigateToCms",{enumerable:!0,get:function(){return n.navigateToCms}});var a=r(1243),n=r(1247),l=r(612);t.default=n.reducer},112:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CashierSettings",{enumerable:!0,get:function(){return n.default}}),t.default=void 0,Object.defineProperty(t,"getCashiers",{enumerable:!0,get:function(){return l.getCashiers}}),Object.defineProperty(t,"loadCashiers",{enumerable:!0,get:function(){return l.loadCashiers}}),Object.defineProperty(t,"moduleName",{enumerable:!0,get:function(){return l.moduleName}});var n=a(r(1299)),l=r(653);t.default=l.reducer},113:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PUNCH_CARDS",{enumerable:!0,get:function(){return a.PUNCH_CARDS}}),Object.defineProperty(t,"PUNCH_REWARDS",{enumerable:!0,get:function(){return a.PUNCH_REWARDS}}),t.default=void 0,Object.defineProperty(t,"getPunchRewards",{enumerable:!0,get:function(){return a.getPunchRewards}}),Object.defineProperty(t,"loadPunchRewards",{enumerable:!0,get:function(){return a.loadPunchRewards}}),Object.defineProperty(t,"moduleName",{enumerable:!0,get:function(){return a.moduleName}});var a=r(1401);t.default=a.reducer},1204:function(e,t,r){var a={"./ckb.js":201,"./da.js":202,"./de.js":203,"./en.js":115,"./es.js":204,"./fr.js":205,"./he.js":206,"./index.js":1205,"./it.js":207,"./ja.js":208,"./ko.js":209,"./lv.js":210,"./nl.js":211,"./pl.js":212,"./pt_br.js":213,"./ro.js":214,"./ru.js":215,"./se.js":216,"./ua.js":217,"./zh_cn.js":218};function n(e){var t=l(e);return r(t)}function l(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=l,e.exports=n,n.id=1204},1243:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CmsSelect",{enumerable:!0,get:function(){return n.default}});var n=a(r(1244))},1244:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1245));t.default=n.default},1245:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(57)),o=a(r(6)),u=a(r(7)),i=a(r(5)),c=a(r(9)),s=a(r(10)),d=a(r(11)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),p=r(19),y=a(r(140)),m=a(r(18)),v=a(r(24)),g=a(r(20)),h=a(r(0)),b=r(29),E=r(21),T=a(r(1246));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}var P=t.default=function(e){(0,c.default)(r,e);var t=_(r);function r(e){var a;(0,o.default)(this,r),a=t.call(this,e),(0,m.default)((0,i.default)(a));var n=e.allItemsLabel,l=e.defaultValue,u=function(e){return{value:"all",label:e}}(n);return a.state={defaultFilterItem:u,filterItems:[u],selectedValue:l||u.value},a}return(0,u.default)(r,[{key:"componentWillMount",value:function(){this.resolveStateFromProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.resolveStateFromProps(e)}},{key:"resolveStateFromProps",value:function(e){var t=e.resources,r=e.descriptor,a=e.sortItems,n=this.state.defaultFilterItem,o=g.default.get(r,"filterKeyProp","id"),u=g.default.get(r,"filterLabelProp","name"),i=a(g.default.reduce(t,(function(e,t){var r=g.default.get(t,o),a=g.default.get(t,u);return r&&a?[].concat((0,l.default)(e),[{value:r,label:a}]):e}),[n]));this.setState({filterItems:i})}},{key:"handleFilterChange",value:function(e){var t=this.props.onFilterChange,r=this.state.defaultFilterItem,a=e.value;this.setState({selectedValue:a}),t(e===r?null:a)}},{key:"render",value:function(){var e=this.props,t=e.dropdownLabel,r=e.resources,a=e.disabled,n=this.state,l=n.selectedValue,o=n.filterItems;return f.default.createElement(b.LoaderContainer,{className:"cms-dropdown-filter",isLoading:(0,E.isBusy)(r),isOverlay:!0},f.default.createElement(p.FormGroup,null,f.default.createElement(p.ControlLabel,null,t),f.default.createElement(y.default,{autoBlur:!0,clearable:!1,disabled:a,onChange:this.handleFilterChange,options:o,value:l})))}}]),r}(f.Component);P.propTypes={descriptor:h.default.object,dropdownLabel:h.default.string,resources:h.default.array,allItemsLabel:h.default.string,onFilterChange:h.default.func,defaultValue:h.default.string,sortItems:h.default.func,disabled:h.default.bool},P.defaultProps={dropdownLabel:v.default.t(T.default.DROPDOWN_TITLE),allItemsLabel:v.default.t(T.default.ALL_ITEMS_TITLE),sortItems:function(e){return g.default.sortBy(e,"label")},disabled:!1}},1246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="cms-select",n="".concat(a,".dropdown-title"),l="".concat(a,".all-items-title");t.default={DROPDOWN_TITLE:n,ALL_ITEMS_TITLE:l}},1247:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMAS=t.CATEGORIES=void 0,t.createCategory=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(n){var u={nid:e,version:58},s=(0,f.getCmsUrl)("api/modules/0/groups/create",u,!0),d=(0,l.default)({},i.RSAA,{endpoint:s,method:"POST",body:JSON.stringify({name:r,schema:t}),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"},types:["@@cms/CREATE_CATEGORY_REQUEST","@@cms/CREATE_CATEGORY_SUCCESS","@@cms/CREATE_CATEGORY_ERROR"]}),p=o.default.get(a,"extensionName");p&&(0,c.setExtensionScope)(d,p);var y=o.default.get(a,"shortcutId");return y&&(0,c.setShortcutScope)(d,y),n((0,f.rsaaPromise)(d)).then((function(e){return o.default.get(e,"payload.id")}))}},t.deleteResource=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={schema:r,request:{endpoint:(0,f.getCmsUrl)("/v1/apps/".concat(e,"/resources/").concat(r,"/").concat(t)),headers:{Accept:"application/vnd.api+json"}}},l={type:r,id:t};return(0,s.remove)(n,l,a)},t.loadResources=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,d.default)("resources"),l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=t?{"filter[categories]":t}:{},u=y({q:y(y({"page[limit]":1e3,"page[offset]":0},o),a)},l),i={schema:r,request:{endpoint:(0,f.getCmsUrl)("/v1/apps/".concat(e,"/resources/").concat(r,"{?q*}")),headers:{Accept:"application/vnd.api+json"}}};return(0,s.find)(i,n,u)},t.moduleName=void 0,t.navigateToCms=function(e,t,r){return{type:"@@navigator/NAVIGATE_REQUEST",payload:{component:"CMS",options:{appId:e,categoryId:t,schema:r,source:(0,d.default)(),isModal:!0}}}},t.reducer=void 0;var n,l=a(r(15)),o=a(r(20)),u=r(35),i=r(100),c=r(85),s=r(21),d=a(r(30)),f=r(612);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.moduleName="cms";var m=t.CATEGORIES="shoutem.core.categories",v=t.SCHEMAS="shoutem.core.schemas";t.reducer=(0,u.combineReducers)((n={},(0,l.default)(n,v,(0,s.storage)(v)),(0,l.default)(n,m,(0,s.storage)(m)),n))},1248:function(e){e.exports=JSON.parse('{"name":"shoutem.loyalty","version":"6.4.0","scripts":{"lint":"eslint --no-eslintrc -c .eslintrc src/**/*.{js,jsx}","clean":"rimraf ./build/*","build":"npm run clean && cross-env NODE_ENV=production webpack --config ./bin/webpack/webpack.config.js","dev":"webpack-dev-server --config ./bin/webpack/webpack.config.js"},"devDependencies":{"@babel/core":"^7.8.4","@babel/plugin-proposal-class-properties":"^7.8.3","@babel/plugin-transform-modules-commonjs":"^7.8.3","@babel/plugin-transform-runtime":"^7.8.3","@babel/preset-env":"^7.8.4","@babel/preset-react":"^7.8.3","@shoutem/eslint-config-react":"^1.0.5","babel-eslint":"^10.1.0","babel-loader":"^8.0.6","cross-env":"^4.0.0","css-loader":"^3.4.2","cssnano":"^4.1.10","eslint":"^6.8.0","eslint-loader":"^3.0.3","eslint-plugin-babel":"^5.3.0","eslint-plugin-import":"^2.24.2","eslint-plugin-jsx-a11y":"^6.4.0","eslint-plugin-prettier":"3.1.3","eslint-plugin-react":"^7.21.5","eslint-plugin-react-hooks":"^4.2.0","eslint-plugin-simple-import-sort":"^7.0.0","file-loader":"^6.0.0","html-webpack-plugin":"^4.0.3","mini-css-extract-plugin":"0.9.0","optimize-css-assets-webpack-plugin":"5.0.3","terser-webpack-plugin":"2.3.5","path":"^0.12.7","postcss-loader":"^3.0.0","prettier":"1.19.1","rimraf":"^3.0.2","sass":"1.54.1","sass-loader":"10.2.0","style-loader":"^1.1.3","url-loader":"^3.0.0","webpack":"^4.41.6","webpack-cli":"^3.3.11","webpack-dev-server":"^3.10.3"},"dependencies":{"@shoutem/extension-sandbox":"^0.1.4","@shoutem/react-web-ui":"^1.0.2","@shoutem/redux-api-sdk":"^2.0.0","@shoutem/redux-composers":"^0.1.6","@shoutem/redux-io":"^3.2.0","@shoutem/redux-sync-state-engine":"^0.0.2","auto-bind":"^4.0.0","es6-promise":"^4.1.1","fetch-everywhere":"^1.0.5","i18next":"^19.7.0","jwt-simple":"^0.5.1","lodash":"^4.17.4","moment":"^2.16.0","normalize-url":"^1.6.0","prop-types":"^15.7.2","react":"^16.12.0","react-dom":"^16.12.0","react-i18next":"^11.7.3","react-redux":"^5.0.3","react-select":"^1.0.0-rc.5","redux":"^3.6.0","redux-form":"^5.2.5","redux-thunk":"~2.2.0","reselect":"^2.5.4","urijs":"^1.18.9","validator":"^6.2.1"},"babel":{"presets":["@babel/preset-env","@babel/preset-react"],"plugins":["@babel/plugin-transform-runtime","@babel/plugin-proposal-class-properties","@babel/plugin-transform-modules-commonjs"]}}')},1249:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(15)),l=a(r(6)),o=a(r(7)),u=a(r(175)),i=a(r(24)),c=a(r(20)),s=a(r(54)),d=a(r(1250));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){function e(){(0,l.default)(this,e),(0,u.default)(this),this.endpoint=null,this.sessionId=null}return(0,o.default)(e,[{key:"init",value:function(e){if(!e)throw new Error(i.default.t(d.default.ENDPOINT_REQUIRED_MESSAGE));this.endpoint=new s.default(e).host()}},{key:"initSession",value:function(e){var t=c.default.get(e,"pageContext.auth.session");if(!t)throw new Error(i.default.t(d.default.CANNOT_CONNECT_MESSAGE));this.sessionId=t}},{key:"isInitialized",value:function(){return!!this.endpoint}},{key:"getUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=new s.default(e).protocol(location.protocol).host(this.endpoint);if(c.default.isEmpty(t)&&!r)return a.toString();var n=r?p(p({},t),{},{session_id:this.sessionId}):t;return a.query(n).toString()}}]),e}()},1250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="cms-services",n="".concat(a,".endpoint-required-message"),l="".concat(a,".cannot-connect-message");t.default={ENDPOINT_REQUIRED_MESSAGE:n,CANNOT_CONNECT_MESSAGE:l}},1251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return function(t){return new Promise((function(r,a){return t(e).then((function(e){e.error?a(e):r(e)}),a)}))}}},1252:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DefaultLoyaltyShortcutSettingsPage",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"LoyaltySettingsPage",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"TransactionsPage",{enumerable:!0,get:function(){return o.default}});var n=a(r(1253)),l=a(r(1450)),o=a(r(1454))},1253:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1254));t.default=n.default},1254:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultLoyaltyShortcutSettingsPage=s,t.default=void 0;var n=a(r(1)),l=r(308),o=r(39),u=a(r(0)),i=r(63),c=a(r(1449));function s(e){var t=e.navigateToLoyaltySettings;return n.default.createElement("p",{className:"points-card-settings-page"},n.default.createElement(l.Trans,{i18nKey:c.default.DESCRIPTION},"To configure your Loyalty program, please click",n.default.createElement("a",{onClick:t},"here"),"."))}s.propTypes={navigateToLoyaltySettings:u.default.func};t.default=(0,o.connect)(null,(function(e,t){var r=t.appId,a=t.ownExtensionName;return{navigateToLoyaltySettings:function(){return e((0,i.navigateToSettings)(r,a))}}}))(s)},1299:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1300));t.default=n.default},1300:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CashierSettings=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=r(39),p=a(r(18)),y=a(r(24)),m=a(r(20)),v=a(r(0)),g=r(46),h=r(29),b=r(21),E=r(1307),T=r(653),O=r(638),_=a(r(1400));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}var S=t.CashierSettings=function(e){(0,i.default)(r,e);var t=j(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,p.default)((0,u.default)(a)),a}return(0,o.default)(r,[{key:"componentWillMount",value:function(){this.setInitialState(),this.checkData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkData(e,this.props)}},{key:"checkData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.currentPlaceId,a=e.programId,n=e.currentPlaceId,l=r!==n;l&&this.setState({currentPlaceId:n}),(l||(0,b.shouldLoad)(e,t,"cashiers"))&&this.props.loadCashiers(a,n)}},{key:"setInitialState",value:function(){this.setState({showAddCashierModal:!1,currentCashier:null})}},{key:"handleAddCashierClick",value:function(){this.setState({showAddCashierModal:!0})}},{key:"handleEditCashierClick",value:function(e){this.setState({showAddCashierModal:!0,currentCashier:e})}},{key:"handleHideCashierModal",value:function(){this.setInitialState()}},{key:"handleCashierCreated",value:function(e){var t=this,r=this.props,a=r.appId,n=r.programId;return new Promise((function(r,l){t.props.createCashier(e,n,a).then(t.setInitialState,(function(e){var t=(0,g.getErrorCode)(e);l((0,O.getErrorMessage)(t))}))}))}},{key:"handleCashierUpdated",value:function(e){var t=this,r=this.props.programId,a=this.state.currentCashier.id;return new Promise((function(n,l){t.props.updateCashier(a,e,r).then(t.setInitialState,(function(e){var t=(0,g.getErrorCode)(e);l((0,O.getErrorMessage)(t))}))}))}},{key:"handleCashierDeleted",value:function(e){var t=this.props.programId;this.props.deleteCashier(e,t)}},{key:"renderCashierModal",value:function(){var e=this.props,t=e.places,r=e.placesDescriptor,a=e.currentPlaceId,n=this.state.currentCashier,l=!!n,o=l?y.default.t(_.default.EDIT_CASHIER_TITLE):y.default.t(_.default.ADD_CASHIER_TITLE),u=l?this.handleCashierUpdated:this.handleCashierCreated,i=m.default.get(n,"location",a);return d.default.createElement(h.InlineModal,{className:"add-cashier-modal settings-page-modal",onHide:this.handleHideCashierModal,title:o},d.default.createElement(E.CashierForm,{initialPlaceId:i,initialValues:n,onCancel:this.handleHideCashierModal,onSubmit:u,places:t,placesDescriptor:r}))}},{key:"render",value:function(){var e=this.props,t=e.cashiers,r=e.places,a=this.state.showAddCashierModal;return d.default.createElement("div",{className:"cashier-settings"},d.default.createElement(E.CashiersTable,{cashiers:t,hasPlaces:!m.default.isEmpty(r),onAddClick:this.handleAddCashierClick,onDeleteClick:this.handleCashierDeleted,onEditClick:this.handleEditCashierClick}),a&&this.renderCashierModal())}}]),r}(d.Component);S.propTypes={appId:v.default.string,programId:v.default.string,cashiers:v.default.array,loadCashiers:v.default.func,createCashier:v.default.func,updateCashier:v.default.func,deleteCashier:v.default.func,currentPlaceId:v.default.string,places:v.default.array,placesDescriptor:v.default.object};t.default=(0,f.connect)((function(e){return{cashiers:(0,T.getCashiersWithPlace)(e)}}),(function(e,t){var r={extensionName:t.extensionName};return{loadCashiers:function(t,a){return e((0,T.loadCashiers)(t,a,r))},createCashier:function(t,a,n){return e((0,T.createCashier)(t,a,n,r))},updateCashier:function(t,a,n){return e((0,T.updateCashier)(t,a,n,r))},deleteCashier:function(t,a){return e((0,T.deleteCashier)(t,a,r))}}}))(S)},1301:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(6)),l=a(r(7)),o=a(r(175)),u=a(r(24)),i=a(r(54)),c=a(r(1302));t.default=function(){function e(){(0,n.default)(this,e),(0,o.default)(this),this.endpoint=null}return(0,l.default)(e,[{key:"init",value:function(e){if(!e)throw new Error(u.default.t(c.default.LOYALTY_ENDPOINT_MISSING));this.endpoint=new i.default(e).host()}},{key:"isInitialized",value:function(){return!!this.endpoint}},{key:"getUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new i.default(e).protocol(location.protocol).host(this.endpoint).toString()}}]),e}()},1302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="".concat("services",".loyalty-endpoint-missing");t.default={LOYALTY_ENDPOINT_MISSING:a}},1303:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(6)),l=a(r(7)),o=a(r(175)),u=a(r(20)),i=a(r(54));t.default=function(){function e(){(0,n.default)(this,e),(0,o.default)(this),this.authHost=null}return(0,l.default)(e,[{key:"init",value:function(e){var t=u.default.get(e,"pageContext.url",{}).auth;this.authHost=new i.default(t).host()}},{key:"buildAuthUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new i.default(e).protocol(location.protocol).host(this.authHost).toString()}}]),e}()},1304:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=function(e){var t=function(e){var t=n.default.get(e,["payload","response","errors"],[]);return n.default.get(t,"0",{})}(e);return n.default.get(t,"code")};var n=a(r(20))},1305:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.createSelectOptions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return n.default.reduce(e,(function(e,a){var l=t(a),o=n.default.get(a,r);return e.push({value:o,label:l}),e}),[])};var n=a(r(20))},1306:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getProgramId=function(e){var t=n.default.get(e,"program",{});return n.default.get(t,"id",null)},t.initializeApiEndpoints=function(e){var t=n.default.get(e,"services.core.loyalty"),r=n.default.get(e,"services.core.cms");o.loyaltyApi.isInitialized()||o.loyaltyApi.init(t);l.cmsApi.isInitialized()||l.cmsApi.init(r)};var n=a(r(20)),l=r(108),o=r(46)},1307:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CashierForm",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"CashiersTable",{enumerable:!0,get:function(){return l.default}});var n=a(r(1308)),l=a(r(1361))},1308:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1309));t.default=n.default},1309:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(23)),o=a(r(15)),u=a(r(6)),i=a(r(7)),c=a(r(5)),s=a(r(9)),d=a(r(10)),f=a(r(11)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),y=a(r(18)),m=a(r(0)),v=a(r(1310));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,d.default)(this,r)}}(t.default=function(e){(0,s.default)(r,e);var t=E(r);function r(e){var a;return(0,u.default)(this,r),a=t.call(this,e),(0,y.default)((0,c.default)(a)),a.state={currentPlaceId:e.initialPlaceId},a}return(0,i.default)(r,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.initialPlaceId;t!==e.initialPlaceId&&this.setState({currentPlaceId:t})}},{key:"handleCashierSubmit",value:function(e){var t=this.state.currentPlaceId,r=b(b({},e),{},{location:t});return this.props.onSubmit(r)}},{key:"handlePlaceChange",value:function(e){this.setState({currentPlaceId:e})}},{key:"render",value:function(){var e=this.state.currentPlaceId;return p.default.createElement(v.default,(0,l.default)({},this.props,{currentPlaceId:e,onPlaceChange:this.handlePlaceChange,onSubmit:this.handleCashierSubmit}))}}]),r}(p.Component)).propTypes={initialPlaceId:m.default.string,onSubmit:m.default.func}},1310:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CashierForm=m,t.default=void 0;var n=a(r(1)),l=r(19),o=a(r(24)),u=a(r(20)),i=a(r(0)),c=r(109),s=r(108),d=r(63),f=r(29),p=r(638),y=a(r(652));function m(e){var t=e.submitting,r=e.fields,a=e.onCancel,i=e.handleSubmit,c=e.error,d=e.places,p=e.placesDescriptor,m=e.currentPlaceId,v=e.onPlaceChange,g=r.id,h=r.firstName,b=r.lastName,E=r.email,T=r.password,O=r.pin,_=!u.default.isEmpty(g.value);return _&&(T.value="*******"),n.default.createElement("form",{className:"cashier-form",onSubmit:i},n.default.createElement(l.Row,null,n.default.createElement(f.ReduxFormElement,{disabled:t,elementId:"firstName",field:h,name:o.default.t(y.default.FORM_FIRST_NAME_TITLE)})),n.default.createElement(l.Row,null,n.default.createElement(f.ReduxFormElement,{disabled:t,elementId:"lastName",field:b,name:o.default.t(y.default.FORM_FIRST_NAME_TITLE)})),n.default.createElement(l.Row,null,n.default.createElement(f.ReduxFormElement,{disabled:_||t,elementId:"email",field:E,name:o.default.t(y.default.FORM_EMAIL_ADDRESS_TITLE)})),n.default.createElement(l.Row,null,n.default.createElement(f.ReduxFormElement,{disabled:_||t,elementId:"password",field:T,helpText:o.default.t(y.default.PASSWORD_HELP_TEXT),name:o.default.t(y.default.FORM_PASSWORD_TITLE)},n.default.createElement(f.PasswordBox,null))),n.default.createElement(l.Row,null,n.default.createElement(f.ReduxFormElement,{disabled:t,elementId:"pin",field:O,helpText:o.default.t(y.default.PIN_HELP_TEXT),name:o.default.t(y.default.FORM_PIN_TITLE)})),!u.default.isEmpty(d)&&n.default.createElement(l.Row,null,n.default.createElement(s.CmsSelect,{allItemsLabel:o.default.t(y.default.FORM_ALL_STORES_TITLE),defaultValue:m,descriptor:p,dropdownLabel:o.default.t(y.default.FORM_SELECT_STORE_TITLE),onFilterChange:v,resources:d})),n.default.createElement(l.ButtonToolbar,null,n.default.createElement(l.Button,{bsSize:"large",bsStyle:"primary",disabled:t,type:"submit"},n.default.createElement(f.LoaderContainer,{isLoading:t},_?o.default.t(y.default.BUTTON_SAVE_TITLE):o.default.t(y.default.BUTTON_ADD_TITLE))),n.default.createElement(l.Button,{bsSize:"large",disabled:t,onClick:a},o.default.t(y.default.BUTTON_CANCEL_TITLE))),c&&n.default.createElement("div",{className:"has-error"},n.default.createElement(l.HelpBlock,null,c)))}r(1360),m.propTypes={handleSubmit:i.default.func,submitting:i.default.bool,fields:i.default.object,onCancel:i.default.func,error:i.default.string,currentPlaceId:i.default.string,places:i.default.array,placesDescriptor:i.default.object,onPlaceChange:i.default.func};t.default=(0,c.reduxForm)({getFormState:d.getFormState,form:"cashierForm",fields:["id","firstName","lastName","email","password","pin"],validate:p.validateCashier})(m)},1311:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessage=function(e){if(e===c)return{pin:n.default.t(i.default.PIN_UNIQUE_MESSAGE)};if(e===s)return{email:n.default.t(i.default.USER_ALREADY_EXISTS_MESSAGE)};return{_error:n.default.t(i.default.ERROR_MESSAGE)}},t.validateCashier=function(e){var t=e.id,r=e.firstName,a=e.lastName,c=e.email,s=e.password,f=e.pin,p={};return p.firstName=d(r,n.default.t(u.default.FORM_FIRST_NAME_TITLE)),p.lastName=d(a,n.default.t(u.default.FORM_LAST_NAME_TITLE)),p.pin=d(f,n.default.t(u.default.FORM_PIN_TITLE)),p.email=l.default.isEmpty(t)?function(e){if(!e)return n.default.t(i.default.EMAIL_REQUIRED_MESSAGE);if(!(0,o.isEmail)(e))return n.default.t(i.default.EMAIL_NOT_VALID_MESSAGE);return null}(c):null,p.password=l.default.isEmpty(t)?function(e){if(!e)return n.default.t(i.default.PASSWORD_REQUIRED_MESSAGE);if(e.length<6)return n.default.t(i.default.PASSWORD_TOO_SHORT_MESSAGE);return null}(s):null,p};var n=a(r(24)),l=a(r(20)),o=r(639),u=a(r(652)),i=a(r(1359)),c="lm_cashier_validation_pinInvalid",s="lm_cashier_api_authError";function d(e,t){return e?null:n.default.t(i.default.REQUIRED_FIELD_MESSAGE,{name:t})}},1359:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="cashier-services",n="".concat(a,".required-field-message"),l="".concat(a,".email-required-message"),o="".concat(a,".email-not-valid-message"),u="".concat(a,".password-required-message"),i="".concat(a,".password-too-short-message"),c="".concat(a,".pin-unique-message"),s="".concat(a,".user-already-exists-message"),d="".concat(a,".error-message");t.default={REQUIRED_FIELD_MESSAGE:n,EMAIL_REQUIRED_MESSAGE:l,EMAIL_NOT_VALID_MESSAGE:o,PASSWORD_REQUIRED_MESSAGE:u,PASSWORD_TOO_SHORT_MESSAGE:i,PIN_UNIQUE_MESSAGE:c,USER_ALREADY_EXISTS_MESSAGE:s,ERROR_MESSAGE:d}},1360:function(e,t,r){},1361:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1362));t.default=n.default},1362:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var n=a(r(1)),l=r(19),o=a(r(24)),u=a(r(0)),i=r(29),c=a(r(1363));function s(e){return e?[o.default.t(c.default.HEADER_FIRST_NAME_TITLE),o.default.t(c.default.HEADER_LAST_NAME_TITLE),o.default.t(c.default.HEADER_STORE_TITLE),o.default.t(c.default.HEADER_PIN_TITLE),""]:[o.default.t(c.default.HEADER_FIRST_NAME_TITLE),o.default.t(c.default.HEADER_LAST_NAME_TITLE),o.default.t(c.default.HEADER_PIN_TITLE),""]}function d(e){var t={property:"firstName",isRequired:!0},r={property:"lastName",isRequired:!0},a={property:"pin",isRequired:!0};return e?[t,r,{property:"placeName",isRequired:!0},a]:[t,r,a]}function f(e){var t=e.cashiers,r=e.onAddClick,a=e.onDeleteClick,u=e.onEditClick,f=e.hasPlaces;return n.default.createElement("div",{className:"cashiers-table"},n.default.createElement("div",{className:"cashiers-table__title"},n.default.createElement("h3",null,o.default.t(c.default.TITLE)),n.default.createElement(l.Button,{className:"btn-icon pull-right",onClick:r},n.default.createElement(i.IconLabel,{iconName:"add"},o.default.t(c.default.BUTTON_ADD_CASHIER_TITLE)))),n.default.createElement(i.EditableTable,{className:"cashiers-table",emptyStateText:o.default.t(c.default.EMPTY_PLACEHOLDER_NO_CASHIERS_MESSAGE),headers:s(f),isStatic:!0,onRowDeleted:a,onRowUpdateClick:u,rowDescriptors:d(f),rows:t}))}r(1364),f.propTypes={cashiers:u.default.array,onAddClick:u.default.func,onDeleteClick:u.default.func,onEditClick:u.default.func,hasPlaces:u.default.bool}},1363:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="cashier-table",n="".concat(a,".title"),l="".concat(a,".button-add-cashier-title"),o="".concat(a,".empty-placeholder-no-cashiers-message"),u="".concat(a,".header-first-name-title"),i="".concat(a,".header-last-name-title"),c="".concat(a,".header-pin-title"),s="".concat(a,".header-store-title");t.default={TITLE:n,BUTTON_ADD_CASHIER_TITLE:l,EMPTY_PLACEHOLDER_NO_CASHIERS_MESSAGE:o,HEADER_FIRST_NAME_TITLE:u,HEADER_LAST_NAME_TITLE:i,HEADER_PIN_TITLE:c,HEADER_STORE_TITLE:s}},1364:function(e,t,r){},1365:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1366));t.default=n.default},1366:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProgramSettings=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=r(39),p=a(r(18)),y=a(r(24)),m=a(r(20)),v=a(r(0)),g=r(304),h=r(63),b=r(29),E=r(21),T=r(1375),O=r(654),_=a(r(1399));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}var S=t.ProgramSettings=function(e){(0,i.default)(r,e);var t=j(r);function r(e){var a;(0,l.default)(this,r),a=t.call(this,e),(0,p.default)((0,u.default)(a));var n=e.requireReceiptCode,o=e.enableBarcodeScan;return a.state={requireReceiptCode:n,enableBarcodeScan:o,inProgress:!1},a}return(0,o.default)(r,[{key:"componentWillMount",value:function(){this.checkData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkData(e,this.props)}},{key:"checkData",value:function(e,t){(0,E.shouldLoad)(e,t,"authorization")&&this.props.loadAuthorizations()}},{key:"handleRequireReceiptToggle",value:function(){var e=this,t=this.state.requireReceiptCode;this.setState({inProgress:!0});var r={requireReceiptCode:!t};this.props.onUpdateExtension(r).then((function(){return e.setState({inProgress:!1,requireReceiptCode:!t})}))}},{key:"handleEnableBarcodeScanToggle",value:function(){var e=this,t=this.state.enableBarcodeScan;this.setState({inProgress:!0}),this.props.onUpdateExtension({enableBarcodeScan:!t}).then((function(){return e.setState({inProgress:!1,enableBarcodeScan:!t})}))}},{key:"handleBarcodeFormSubmit",value:function(e){var t=this.props.authorization.id,r={authorizationType:"regex",implementationData:e};t?this.props.updateAuthorization(t,r):this.props.createAuthorization(r)}},{key:"render",value:function(){var e=this.props.authorization,t=this.state,r=t.requireReceiptCode,a=t.enableBarcodeScan,n=t.inProgress,l=m.default.get(e,"implementationData.regex");return d.default.createElement(b.LoaderContainer,{className:"program-settings",isLoading:!(0,E.isInitialized)(e),isOverlay:!0},d.default.createElement("h3",null,y.default.t(_.default.TITLE)),d.default.createElement(b.LoaderContainer,{isLoading:n,isOverlay:!0},d.default.createElement(g.ToggleSwitch,{message:y.default.t(_.default.REQUIRE_RECEIPT),onToggle:this.handleRequireReceiptToggle,value:r}),d.default.createElement(g.ToggleSwitch,{message:y.default.t(_.default.ENABLE_BARCODE_SCANNING),onToggle:this.handleEnableBarcodeScanToggle,value:a}),a&&d.default.createElement(T.BarcodeRegexForm,{initialValues:{regex:l},navigateToUrl:this.props.navigateToUrl,onSubmit:this.handleBarcodeFormSubmit})))}}]),r}(d.Component);S.propTypes={programId:v.default.string,requireReceiptCode:v.default.bool,enableBarcodeScan:v.default.bool,authorization:v.default.object,onUpdateExtension:v.default.func,loadAuthorizations:v.default.func,updateAuthorization:v.default.func,createAuthorization:v.default.func,navigateToUrl:v.default.func};t.default=(0,f.connect)((function(e){return{authorization:(0,O.getAuthorizationByType)(e,"regex")}}),(function(e,t){var r=t.extensionName,a=t.programId,n={extensionName:r};return{loadAuthorizations:function(){return e((0,O.loadAuthorizations)(a,n))},updateAuthorization:function(t,r){return e((0,O.updateAuthorization)(a,t,r,n))},createAuthorization:function(t){return e((0,O.createAuthorization)(a,t,n))},navigateToUrl:function(t){return e((0,h.navigateToUrl)(t))}}}))(S)},1367:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1368));t.default=n.default},1368:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=r(19),p=a(r(1369)),y=a(r(18)),m=a(r(24)),v=a(r(0)),g=r(29),h=a(r(1370));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}r(1371),(t.default=function(e){(0,i.default)(r,e);var t=E(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,y.default)((0,u.default)(a)),a.state={inError:!1,inProgress:!1},a}return(0,o.default)(r,[{key:"handleEnableLoyaltyClick",value:function(){var e=this,t=this.props.onEnableLoyaltyClick;this.setState({inProgress:!0}),t().then((function(){return e.setState({inProgress:!1})}),(function(){return e.setState({inError:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.inError,r=e.inProgress,a=t?m.default.t(h.default.BUTTON_TRY_AGAIN_TITLE):m.default.t(h.default.BUTTON_GET_STARTED_TITLE);return d.default.createElement(g.EmptyResourcePlaceholder,{className:"loyalty-disabled-placeholder",imageSrc:p.default,title:m.default.t(h.default.TITLE)},d.default.createElement("p",null,m.default.t(h.default.DESCRIPTION)),d.default.createElement(f.Button,{bsSize:"large",bsStyle:"primary",onClick:this.handleEnableLoyaltyClick},d.default.createElement(g.LoaderContainer,{isLoading:r},a)),t&&d.default.createElement("p",{className:"text-error"},m.default.t(h.default.FAILED_TO_ENABLE_MESSAGE)))}}]),r}(d.Component)).propTypes={onEnableLoyaltyClick:v.default.func}},1369:function(e,t,r){"use strict";r.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NSIgaGVpZ2h0PSIxMDUiIHZpZXdCb3g9IjAgMCA1NSAxMDUiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMTAzIiB4PSIxIiB5PSIxIiBzdHJva2U9IiM3QjgzOTciIHN0cm9rZS13aWR0aD0iMiIgcng9IjYiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iNDciIGhlaWdodD0iODEiIHg9IjQiIHk9IjEyIiBmaWxsPSIjODg4RkExIiBvcGFjaXR5PSIuMSIgcng9IjEiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjN0I4Mzk3IiBkPSJNMzIuNDQ3IDQ4LjM2OGEyLjUxIDIuNTEgMCAwIDAgLjE1My0uODQyQTIuNTM1IDIuNTM1IDAgMCAwIDMwLjA1IDQ1Yy0uODkzIDAtMS42NjYuNDU1LTIuMTI1IDEuMTM3bC0uNDI1LjU2NC0uNDI1LS41NzNBMi41NjYgMi41NjYgMCAwIDAgMjQuOTUgNDVhMi41MzUgMi41MzUgMCAwIDAtMi41NSAyLjUyNmMwIC4yOTUuMDYuNTgxLjE1My44NDJIMjAuN2ExLjY4IDEuNjggMCAwIDAtMS42OTEgMS42ODVMMTkgNTkuMzE2YzAgLjkzNS43NTYgMS42ODQgMS43IDEuNjg0aDEzLjZjLjk0NCAwIDEuNy0uNzUgMS43LTEuNjg0di05LjI2M2MwLS45MzUtLjc1Ny0xLjY4NS0xLjctMS42ODVoLTEuODUzem0tMS41NDctLjg0MmEuODQ5Ljg0OSAwIDAgMS0uODUuODQyLjg0OS44NDkgMCAwIDEtLjg1LS44NDJjMC0uNDYzLjM4My0uODQyLjg1LS44NDIuNDY3IDAgLjg1LjM4Ljg1Ljg0MnptLTUuMSAwYS44NDkuODQ5IDAgMCAxLS44NS44NDIuODQ5Ljg0OSAwIDAgMS0uODUtLjg0MmMwLS40NjMuMzgzLS44NDIuODUtLjg0Mi40NjggMCAuODUuMzguODUuODQyem0tNS4xIDExLjc5di0xLjY4NGgxMy42djEuNjg0SDIwLjd6bTAtNC4yMXYtNS4wNTNoNC4zMThsLTEuMjY0IDEuNzAzYS44MzIuODMyIDAgMCAwIC4xODQgMS4xNzIuODYxLjg2MSAwIDAgMCAxLjE5My0uMTg3bDEuNTE5LTIuMDQ4Ljg1LTEuMTQ2Ljg1IDEuMTQ2IDEuNTE5IDIuMDQ4Yy4yOC4zNzcuODEuNDYgMS4xOTIuMTg3YS44MzIuODMyIDAgMCAwIC4xODUtMS4xNzJsLTEuMjY0LTEuNzAzSDM0LjN2NS4wNTJIMjAuN3oiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiNGNEY0RjYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTguNSA0MmwyMy45NDYgMjEuNTkiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiM3QjgzOTciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTYgNDJsMjMuNDQ2IDIxLjU5Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzdCODM5NyIgZD0iTTE5IDc1LjQ5M2MwIC40MzUtLjE0MS43OTQtLjQyNCAxLjA4LS4yODMuMjg0LS42NDIuNDI3LTEuMDc2LjQyNy0uNDM0IDAtLjc5My0uMTQzLTEuMDc2LS40MjgtLjI4My0uMjg1LS40MjQtLjY0NC0uNDI0LTEuMDc5IDAtLjQzNC4xNDEtLjc5Mi40MjQtMS4wNzIuMjgzLS4yOC42NDItLjQyMSAxLjA3Ni0uNDIxLjQzNCAwIC43OTMuMTQgMS4wNzYuNDIuMjgzLjI4MS40MjQuNjM5LjQyNCAxLjA3M3pNMjQgNzUuNDkzYzAgLjQzNS0uMTQxLjc5NC0uNDI0IDEuMDgtLjI4My4yODQtLjY0Mi40MjctMS4wNzYuNDI3LS40MzQgMC0uNzkzLS4xNDMtMS4wNzYtLjQyOC0uMjgzLS4yODUtLjQyNC0uNjQ0LS40MjQtMS4wNzkgMC0uNDM0LjE0MS0uNzkyLjQyNC0xLjA3Mi4yODMtLjI4LjY0Mi0uNDIxIDEuMDc2LS40MjEuNDM0IDAgLjc5My4xNCAxLjA3Ni40Mi4yODMuMjgxLjQyNC42MzkuNDI0IDEuMDczeiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNDNEM3Q0YiIGQ9Ik0yOSA3NS40OTNjMCAuNDM1LS4xNDEuNzk0LS40MjQgMS4wOC0uMjgzLjI4NC0uNjQyLjQyNy0xLjA3Ni40MjctLjQzNCAwLS43OTMtLjE0My0xLjA3Ni0uNDI4LS4yODMtLjI4NS0uNDI0LS42NDQtLjQyNC0xLjA3OSAwLS40MzQuMTQxLS43OTIuNDI0LTEuMDcyLjI4My0uMjguNjQyLS40MjEgMS4wNzYtLjQyMS40MzQgMCAuNzkzLjE0IDEuMDc2LjQyLjI4My4yODEuNDI0LjYzOS40MjQgMS4wNzN6TTM0IDc1LjQ5M2MwIC40MzUtLjE0MS43OTQtLjQyNCAxLjA4LS4yODMuMjg0LS42NDIuNDI3LTEuMDc2LjQyNy0uNDM0IDAtLjc5My0uMTQzLTEuMDc2LS40MjgtLjI4My0uMjg1LS40MjQtLjY0NC0uNDI0LTEuMDc5IDAtLjQzNC4xNDEtLjc5Mi40MjQtMS4wNzIuMjgzLS4yOC42NDItLjQyMSAxLjA3Ni0uNDIxLjQzNCAwIC43OTMuMTQgMS4wNzYuNDIuMjgzLjI4MS40MjQuNjM5LjQyNCAxLjA3M3pNMzkgNzUuNDkzYzAgLjQzNS0uMTQxLjc5NC0uNDI0IDEuMDgtLjI4My4yODQtLjY0Mi40MjctMS4wNzYuNDI3LS40MzQgMC0uNzkzLS4xNDMtMS4wNzYtLjQyOC0uMjgzLS4yODUtLjQyNC0uNjQ0LS40MjQtMS4wNzkgMC0uNDM0LjE0MS0uNzkyLjQyNC0xLjA3Mi4yODMtLjI4LjY0Mi0uNDIxIDEuMDc2LS40MjEuNDM0IDAgLjc5My4xNCAxLjA3Ni40Mi4yODMuMjgxLjQyNC42MzkuNDI0IDEuMDczeiIvPgogICAgPC9nPgo8L3N2Zz4K"},1370:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="loyalty-disabled-placeholder",n="".concat(a,".title"),l="".concat(a,".description"),o="".concat(a,".button-try-again-title"),u="".concat(a,".button-get-started-title"),i="".concat(a,".failed-to-enable-message");t.default={TITLE:n,DESCRIPTION:l,BUTTON_TRY_AGAIN_TITLE:o,BUTTON_GET_STARTED_TITLE:u,FAILED_TO_ENABLE_MESSAGE:i}},1371:function(e,t,r){},1372:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1373));t.default=n.default},1373:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(1)),l=r(19),o=a(r(0)),u=r(29);function i(e){var t=e.message,r=e.value,a=e.onToggle;return n.default.createElement("div",{className:"toggle-switch"},n.default.createElement(l.ControlLabel,null,t),n.default.createElement(u.Switch,{className:"pull-right",onChange:a,value:r}))}r(1374),i.propTypes={message:o.default.string,value:o.default.bool,onToggle:o.default.func}},1374:function(e,t,r){},1375:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BarcodeRegexForm",{enumerable:!0,get:function(){return n.default}});var n=a(r(1376))},1376:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1377));t.default=n.default},1377:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BarcodeRegexForm=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=r(19),p=r(308),y=a(r(18)),m=a(r(24)),v=a(r(0)),g=r(109),h=r(63),b=r(29),E=a(r(1378));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}r(1379);var _=t.BarcodeRegexForm=function(e){(0,i.default)(r,e);var t=O(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,y.default)((0,u.default)(a)),a}return(0,o.default)(r,[{key:"handleBarcodeExampleClick",value:function(){this.props.navigateToUrl("https://regex101.com/r/rtg3cg/4")}},{key:"renderBarcodeHelpText",value:function(){return d.default.createElement("div",null,d.default.createElement(p.Trans,{i18nKey:E.default.HELP_MESSAGE},"Regular expression used to validate the barcode.",d.default.createElement("br",null),"Use following markers within regular expression",d.default.createElement("br",null),"- ",d.default.createElement("strong",null,"amount"),": specifies the placement of amount (with decimal places)",d.default.createElement("br",null),"- ",d.default.createElement("strong",null,"mod13"),": specifies the placement of control digits. '13' indicates that sum of all digits can be divided by 13.",d.default.createElement("br",null),"Example:",d.default.createElement("br",null)),d.default.createElement("a",{className:"barcode-regex-form__link",onClick:this.handleBarcodeExampleClick},m.default.t(E.default.REGEX_EXAMPLE)),".")}},{key:"renderBarcodeControlLabel",value:function(){return d.default.createElement("div",null,d.default.createElement("span",null,m.default.t(E.default.REGULAR_EXPRESSION_TITLE)),d.default.createElement(b.FontIconPopover,{message:this.renderBarcodeHelpText(),trigger:"click"},d.default.createElement(b.FontIcon,{className:"barcode-regex-form__icon-popover",name:"info",size:"24px"})))}},{key:"render",value:function(){var e=this.props,t=e.submitting,r=e.pristine,a=e.fields.regex,n=e.handleSubmit,l=t||r;return d.default.createElement("form",{className:"barcode-regex-form",onSubmit:n},d.default.createElement(f.Row,null,d.default.createElement(f.Col,null,d.default.createElement(b.ReduxFormElement,{className:"barcode-regex-form__input",disabled:t,elementId:"regex",field:a,name:this.renderBarcodeControlLabel()}))),d.default.createElement(f.ButtonToolbar,null,d.default.createElement(f.Button,{bsStyle:"primary",disabled:l,type:"submit"},d.default.createElement(b.LoaderContainer,{isLoading:t},m.default.t(E.default.BUTTON_SAVE_TITLE)))))}}]),r}(d.Component);_.propTypes={handleSubmit:v.default.func,submitting:v.default.bool,pristine:v.default.bool,fields:v.default.object,navigateToUrl:v.default.func};t.default=(0,g.reduxForm)({getFormState:h.getFormState,form:"barcodeRegexForm",fields:["regex"]})(_)},1378:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="barcode-reqex-form",n="".concat(a,".regular-expression-title"),l="".concat(a,".help-message"),o="".concat(a,".regex-example"),u="".concat(a,".button-save-title");t.default={REGULAR_EXPRESSION_TITLE:n,HELP_MESSAGE:l,REGEX_EXAMPLE:o,BUTTON_SAVE_TITLE:u}},1379:function(e,t,r){},1380:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.createAuthorization=v,t.createCard=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={schema:f.CARDS,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(e,"/cards")),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},n={type:f.CARDS,attributes:{user:{id:t}}};return(0,d.create)(a,n,r)},t.enableLoyalty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["pin","userId","admin"],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(n){return n(m(r,a)).then((function(r){var u=o.default.get(r,["payload","data","id"]),i=o.default.map(e,(function(e){return n((0,c.createRule)(e,u,null,a))})),s=o.default.map(t,(function(e){return n(v(u,{authorizationType:e,implementationData:{}},a))}));return Promise.all([].concat((0,l.default)(s),(0,l.default)(i))).then((function(){return u}))}))}},t.loadAuthorizations=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={schema:f.AUTHORIZATIONS,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(e,"/authorizations")),headers:{Accept:"application/vnd.api+json"}}};return(0,d.find)(r,(0,u.default)("authorizations"),t)},t.loadCards=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={schema:f.CARDS,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(e,"/cards")),headers:{Accept:"application/vnd.api+json"}}};return(0,d.find)(r,(0,u.default)("cards"),t)},t.loadLoyaltyPlaces=function(e,t,r){return(0,i.loadResources)(e,t,f.PLACES,{},f.PLACES,r)},t.loadUsers=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=y({q:{"page[limit]":1e4}},t),a={schema:f.USERS,request:{endpoint:s.shoutemUrls.buildAuthUrl("/v1/realms/externalReference:".concat(e,"/users{?q*}")),headers:{Accept:"application/vnd.api+json"}}};return(0,d.find)(a,(0,u.default)("users"),r)},t.updateAuthorization=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={schema:f.AUTHORIZATIONS,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(e,"/authorizations/").concat(t)),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},l={type:f.AUTHORIZATIONS,id:t,attributes:r};return(0,d.update)(n,l,a)};var n=a(r(15)),l=a(r(57)),o=a(r(20)),u=a(r(30)),i=r(108),c=r(305),s=r(46),d=r(21),f=r(198);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){var r={schema:f.PROGRAMS,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs"),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},a={type:f.PROGRAMS,attributes:{name:"My Program"}},n=o.default.get(e,"appOwnerId");return o.default.set(a,["attributes","owner","id"],n),(0,d.create)(r,a,t)}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={schema:f.AUTHORIZATIONS,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(e,"/authorizations")),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},n={type:f.AUTHORIZATIONS,attributes:t};return(0,d.create)(a,n,r)}},1381:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1382));t.default=n.default},1382:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RulesSettings=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=a(r(15)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),p=r(39),y=a(r(18)),m=a(r(24)),v=a(r(20)),g=a(r(0)),h=r(304),b=r(21),E=r(1383),T=r(656),O=a(r(1396));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=t.RulesSettings=function(e){(0,i.default)(r,e);var t=P(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,y.default)((0,u.default)(a)),a.state={inError:!1},a}return(0,o.default)(r,[{key:"componentWillMount",value:function(){this.checkData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkData(e,this.props)}},{key:"checkData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.currentPlaceId,a=e.programId,n=e.currentPlaceId;(r!==n||(0,b.shouldLoad)(e,t,"rules"))&&(this.props.loadRules(a,n),this.setState({inError:!1}))}},{key:"handleRulesPlaceToggle",value:function(){var e=this.props,t=e.rules,r=e.ruleTemplates,a=e.programId,n=e.currentPlaceId;v.default.isEmpty(t)?this.props.createRules(r,a,n):this.props.deleteRules(t,a)}},{key:"handleUpdateRules",value:function(e){var t=this,r=this.props,a=r.programId,n=r.rules,l=r.currentPlaceId;return this.props.updateRules(n,e,a,l).then(void 0,(function(){return t.setState({inError:!0})}))}},{key:"render",value:function(){var e=this.props,t=e.rules,r=e.ruleTemplates,a=e.currentPlaceId,n=this.state.inError,l=!v.default.isEmpty(t),o=!a||l,u=function(e,t){return v.default.reduce(e,(function(e,r){var a=r.ruleType,n=v.default.find(t,{ruleType:a}),l=!!n,o=n||r;return S(S({},e),{},(0,d.default)({},a,S(S({},o),{},{enabled:l})))}),{})}(r,t);return f.default.createElement("div",{className:"rules-settings"},f.default.createElement("h3",null,m.default.t(O.default.TITLE)),a&&f.default.createElement(h.ToggleSwitch,{message:"Enable custom rules for this place",onToggle:this.handleRulesPlaceToggle,value:l}),o&&f.default.createElement(E.RulesForm,{onUpdateRules:this.handleUpdateRules,rules:u}),n&&f.default.createElement("p",{className:"text-error"},m.default.t(O.default.ERROR_MESSAGE)))}}]),r}(f.Component);I.propTypes={rules:g.default.object,ruleTemplates:g.default.array,programId:g.default.string,currentPlaceId:g.default.string,requireReceiptCode:g.default.bool,loadRules:g.default.func,createRules:g.default.func,updateRules:g.default.func,deleteRules:g.default.func,onUpdateExtension:g.default.func};t.default=(0,p.connect)((function(e){return{rules:(0,T.getRulesById)(e)}}),(function(e,t){var r={extensionName:t.extensionName};return{loadRules:function(t,a){return e((0,T.loadRules)(t,a,r))},createRules:function(t,a,n){return e((0,T.createRules)(t,a,n,r))},updateRules:function(t,a,n,l){return e((0,T.updateRules)(t,a,n,l,r))},deleteRules:function(t,a){return e((0,T.deleteRules)(t,a,r))}}}))(I)},1383:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RulesForm",{enumerable:!0,get:function(){return n.default}});var n=a(r(1384))},1384:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1385));t.default=n.default},1385:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(15)),o=a(r(6)),u=a(r(7)),i=a(r(5)),c=a(r(9)),s=a(r(10)),d=a(r(11)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),p=r(19),y=a(r(18)),m=a(r(24)),v=a(r(20)),g=a(r(0)),h=r(29),b=a(r(1386)),E=a(r(1394));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}r(1395),(t.default=function(e){(0,c.default)(r,e);var t=P(r);function r(e){var a;(0,o.default)(this,r),a=t.call(this,e),(0,y.default)((0,i.default)(a));var n=e.rules;return a.state={rules:n,rulePatches:{},inProgress:!1},a}return(0,u.default)(r,[{key:"componentWillReceiveProps",value:function(e){var t=e.rules;this.props.rules!==t&&this.setState({rules:t})}},{key:"handleRuleChange",value:function(e,t){var r=this.state.rules,a=e.ruleType;this.setState({rules:_(_({},r),{},(0,l.default)({},a,t))},this.calculateHasChanges)}},{key:"handleRuleEnabledToggle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.state.rules,a=e.ruleType;this.setState({rules:_(_({},r),{},(0,l.default)({},a,_(_({},e),{},{enabled:t})))},this.calculateHasChanges)}},{key:"handleSaveChangesClick",value:function(){var e=this,t=this.state.rules;this.setState({inProgress:!0}),this.props.onUpdateRules(t).then((function(){return e.setState({inProgress:!1,hasChanges:!1})}))}},{key:"calculateHasChanges",value:function(){var e=this.state.rules,t=this.props.rules,r=!v.default.isEqual(t,e);this.setState({hasChanges:r})}},{key:"render",value:function(){var e=this.state,t=e.rules,r=e.inProgress,a=e.hasChanges;return f.default.createElement("div",{className:"rules-form"},f.default.createElement(b.default,{onRuleChange:this.handleRuleChange,onRuleToggle:this.handleRuleEnabledToggle,rules:t}),f.default.createElement(p.Button,{bsStyle:"primary",disabled:!a,onClick:this.handleSaveChangesClick},f.default.createElement(h.LoaderContainer,{isLoading:r},m.default.t(E.default.BUTTON_UPDATE_RULES_TITLE))))}}]),r}(f.Component)).propTypes={rules:g.default.object,onUpdateRules:g.default.func,onUpdateRequiredReceipt:g.default.func}},1386:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1387));t.default=n.default},1387:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(23)),o=a(r(6)),u=a(r(7)),i=a(r(5)),c=a(r(9)),s=a(r(10)),d=a(r(11)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),p=r(19),y=a(r(18)),m=a(r(24)),v=a(r(20)),g=a(r(0)),h=r(655),b=a(r(1389)),E=a(r(1392));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}r(1393),(t.default=function(e){(0,c.default)(r,e);var t=O(r);function r(e){var a;return(0,o.default)(this,r),a=t.call(this,e),(0,y.default)((0,i.default)(a)),a}return(0,u.default)(r,[{key:"renderRuleTableRow",value:function(e){var t=this.props,r=t.rules,a=t.onRuleChange,n=t.onRuleToggle,o=v.default.find(r,{ruleType:e.type});return o?f.default.createElement(b.default,(0,l.default)({key:"".concat(o.ruleType,"-").concat(o.id),onRuleChange:a,onRuleToggle:n,rule:o},e)):null}},{key:"render",value:function(){var e={VISIT:{type:"visit",customerAction:m.default.t(E.default.VISIT_ACTION_TITLE),unit:m.default.t(E.default.VISIT_UNIT_TITLE),valueKey:"pointsPerVisit",valueTransformer:h.transformNumericRule,validateRule:h.validateNumericRule},LINEAR_POINT:{type:"linearPoint",customerAction:m.default.t(E.default.LINEAR_POINT_ACTION_TITLE),unit:m.default.t(E.default.LINEAR_POINT_UNIT_TITLE),valueKey:"coefficient",valueTransformer:h.transformNumericRule,validateRule:h.validateNumericRule}};return f.default.createElement("table",{className:"table rules-table"},f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",{className:"rules-table__action-col"},f.default.createElement(p.ControlLabel,null,m.default.t(E.default.HEADER_CUSTOM_ACTION_TITLE))),f.default.createElement("th",{className:"rules-table__value-col"},f.default.createElement(p.ControlLabel,null,m.default.t(E.default.HEADER_VALUE_TITLE))),f.default.createElement("th",{className:"rules-table__enabled-col"},f.default.createElement(p.ControlLabel,null,m.default.t(E.default.HEADER_RULE_ENABLED_TITLE))))),f.default.createElement("tbody",null,v.default.map(e,this.renderRuleTableRow)))}}]),r}(f.Component)).propTypes={rules:g.default.object,onRuleChange:g.default.func,onRuleToggle:g.default.func}},1388:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getRulesToCreate=function(e){return n.default.filter(e,(function(e){return!e.id&&e.enabled}))},t.getRulesToDelete=function(e){return n.default.filter(e,(function(e){return e.id&&!e.enabled}))},t.getRulesToUpdate=function(e,t){return n.default.filter(t,(function(t){var r=t.id,a=t.implementationData,l=n.default.find(e,{id:r});return l&&!n.default.isEqual(l.implementationData,a)}))},t.transformNumericRule=function(e){return n.default.toNumber(l(e))},t.validateNumericRule=function(e){var t=l(e);if(n.default.isNumber(t))return!0;if(n.default.isEmpty(t))return!1;return!n.default.isNaN(n.default.toNumber(t))};var n=a(r(20));function l(e){return n.default.replace(e,",",".")}},1389:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1390));t.default=n.default},1390:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(15)),o=a(r(6)),u=a(r(7)),i=a(r(5)),c=a(r(9)),s=a(r(10)),d=a(r(11)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),p=r(19),y=a(r(18)),m=a(r(3)),v=a(r(20)),g=a(r(0)),h=r(29);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}r(1391),(t.default=function(e){(0,c.default)(r,e);var t=E(r);function r(e){var a;(0,o.default)(this,r),a=t.call(this,e),(0,y.default)((0,i.default)(a));var n=e.rule,l=e.valueKey,u=n.enabled,c=function(e,t){return v.default.get(e,["implementationData",t])}(n,l);return a.state={value:c,enabled:u,isValid:!0},a}return(0,u.default)(r,[{key:"handleInputChange",value:function(e){var t=this.props.validateRule,r=e.target.value,a=t(r);this.setState({value:r,isValid:a}),a&&this.handleRuleChanged(r)}},{key:"handleRuleChanged",value:function(e){var t=this.props,r=t.rule,a=t.onRuleChange,n=t.valueKey,o=(0,t.valueTransformer)(e);a(r,{id:r.id,ruleType:r.ruleType,enabled:r.enabled,implementationData:(0,l.default)({},n,o)})}},{key:"handleToggleRule",value:function(){var e=this.props.rule,t=this.state.enabled;this.setState({enabled:!t}),this.props.onRuleToggle(e,!t)}},{key:"render",value:function(){var e=this.props,t=e.customerAction,r=e.unit,a=this.state,n=a.value,l=a.enabled,o=a.isValid?"success":"error",u=(0,m.default)("rule-table-row",{disabled:!l});return f.default.createElement("tr",{className:u},f.default.createElement("td",null,t),f.default.createElement("td",null,f.default.createElement(p.FormGroup,{validationState:o},f.default.createElement("input",{className:"form-control",disabled:!l,onChange:this.handleInputChange,type:"text",value:n}),f.default.createElement("label",{className:"rule-table-row__unit"},r))),f.default.createElement("td",null,f.default.createElement(h.Switch,{onChange:this.handleToggleRule,value:l})))}}]),r}(f.Component)).propTypes={rule:g.default.object,onRuleChange:g.default.func,onRuleToggle:g.default.func,unit:g.default.string,customerAction:g.default.string,valueKey:g.default.string,validateRule:g.default.func,valueTransformer:g.default.func}},1391:function(e,t,r){},1392:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="rules-table",n="".concat(a,".visit-action-title"),l="".concat(a,".visit-unit-title"),o="".concat(a,".linear-point-action-title"),u="".concat(a,".linear-point-unit-title"),i="".concat(a,".header-custom-action-title"),c="".concat(a,".header-value-title"),s="".concat(a,".header-rule-enabled-title");t.default={VISIT_ACTION_TITLE:n,VISIT_UNIT_TITLE:l,LINEAR_POINT_ACTION_TITLE:o,LINEAR_POINT_UNIT_TITLE:u,HEADER_CUSTOM_ACTION_TITLE:i,HEADER_VALUE_TITLE:c,HEADER_RULE_ENABLED_TITLE:s}},1393:function(e,t,r){},1394:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="".concat("rules-form",".button-update-rules-title");t.default={BUTTON_UPDATE_RULES_TITLE:a}},1395:function(e,t,r){},1396:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="rules-settings",n="".concat(a,".title"),l="".concat(a,".error-message");t.default={TITLE:n,ERROR_MESSAGE:l}},1397:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var n,l=a(r(15)),o=r(35),u=a(r(30)),i=r(21),c=r(198);t.reducer=(0,o.combineReducers)({places:(0,i.collection)(c.PLACES,(0,u.default)("places")),cards:(0,i.collection)(c.CARDS,(0,u.default)("cards")),authorizations:(0,i.collection)(c.AUTHORIZATIONS,(0,u.default)("authorizations")),users:(0,i.collection)(c.USERS,(0,u.default)("users")),storage:(0,o.combineReducers)((n={},(0,l.default)(n,c.CARDS,(0,i.storage)(c.CARDS)),(0,l.default)(n,c.USERS,(0,i.storage)(c.USERS)),(0,l.default)(n,c.PLACES,(0,i.storage)(c.PLACES)),(0,l.default)(n,c.AUTHORIZATIONS,(0,i.storage)(c.AUTHORIZATIONS)),n))})},1398:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getAuthorizationByType=function(e,t){return d(t)(e)},t.getAuthorizations=s,t.getCards=f,t.getCardsByUserId=void 0,t.getLoyaltyPlaces=function(e){var t=c(e).places;return(0,u.getCollection)(t,e)},t.getProgramState=c,t.getUsers=function(e){var t=c(e).users;return(0,u.getCollection)(t,e)},t.makeGetAuthorizationByType=d;var n=a(r(20)),l=r(197),o=a(r(30)),u=r(21),i=r(198);function c(e){return e[(0,o.default)()][i.moduleName]}function s(e){var t=c(e).authorizations;return(0,u.getCollection)(t,e)}function d(e){return(0,l.createSelector)((function(e){return s(e)}),(function(t){var r=n.default.find(t,{authorizationType:e})||{};return(0,u.cloneStatus)(t,r),r}))}function f(e){var t=c(e).cards;return(0,u.getCollection)(t,e)}t.getCardsByUserId=(0,l.createSelector)((function(e){return f(e)}),(function(e){var t=n.default.filter(e,(function(e){return n.default.has(e,"user")})),r=n.default.keyBy(t,"user.id");return(0,u.cloneStatus)(e,r),r}))},1399:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="program-settings",n="".concat(a,".title"),l="".concat(a,".require-receipt"),o="".concat(a,".enable-barcode-scanning");t.default={TITLE:n,REQUIRE_RECEIPT:l,ENABLE_BARCODE_SCANNING:o}},1400:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="cashier-settings",n="".concat(a,".edit-cashier-title"),l="".concat(a,".add-cashier-title");t.default={EDIT_CASHIER_TITLE:n,ADD_CASHIER_TITLE:l}},1401:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.PUNCH_REWARDS=t.PUNCH_CARDS=void 0,t.getPunchRewards=function(e){var t=p(e).punchRewards;return(0,i.getCollection)(t,e)},t.getPunchRewardsState=p,t.loadPunchRewards=function(e,t,r){var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({q:{"filter[app]":t,"filter[schema]":d}},r),l={schema:f,request:{endpoint:(0,u.getLoyaltyUrl)("/v1/programs/".concat(e,"/rewards/punch{?q*}")),headers:{Accept:"application/vnd.api+json"}}};return(0,i.find)(l,f,a)},t.reducer=t.moduleName=void 0;var n=a(r(15)),l=r(35),o=a(r(30)),u=r(46),i=r(21);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var s=t.moduleName="punchRewards",d=t.PUNCH_CARDS=(0,o.default)("punch-cards"),f=t.PUNCH_REWARDS=(0,o.default)("punch-rewards");function p(e){return e[(0,o.default)()][s]}t.reducer=(0,l.combineReducers)({punchRewards:(0,i.collection)(f,f),storage:(0,i.storage)(f)})},1402:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.createTransaction=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=t.cardId,l=t.reward,u=t.place,f=t.points,p=l&&l.value,y=u&&u.value,m={schema:d.TRANSACTIONS,request:{endpoint:(0,c.getLoyaltyUrl)("/v1/programs/".concat(e,"/transactions")),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},v={appId:r,schema:i.PUNCH_CARDS},g=p?v:void 0,h={type:d.TRANSACTIONS,attributes:{card:n,punchReward:p,authorizations:[{authorizationType:"admin"}],transactionData:{cms:g,location:y,points:o.default.toNumber(f)}}};return(0,s.create)(m,h,a)},t.deleteTransaction=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={schema:d.TRANSACTIONS,request:{endpoint:(0,c.getLoyaltyUrl)("/v1/programs/".concat(t,"/transactions/").concat(e)),headers:{}}},n={type:d.TRANSACTIONS,id:e};return(0,s.remove)(a,n,r)},t.loadGeneralStats=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=m(t,r),l=y({q:n},a),o={schema:d.TRANSACTION_STATS,request:{endpoint:(0,c.getLoyaltyUrl)("/v1/programs/".concat(e,"/reporting/general-stats{?q*}")),headers:{Accept:"application/vnd.api+json"}}};return(0,s.find)(o,(0,u.default)("generalStats"),l)},t.loadNextTransactionsPage=function(e){return(0,s.next)(e,!1,{request:{headers:{Accept:"application/vnd.api+json"}}})},t.loadPreviousTransactionsPage=function(e){return(0,s.prev)(e,!1,{request:{headers:{Accept:"application/vnd.api+json"}}})},t.loadTransactions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=m(t,r),l=y({q:y(y({},n),{},{"page[limit]":10,"page[offset]":0})},a),o={schema:d.TRANSACTIONS,request:{endpoint:(0,c.getLoyaltyUrl)("/v1/programs/".concat(e,"/transactions{?q*}")),headers:{Accept:"application/vnd.api+json"}}};return(0,s.find)(o,(0,u.default)("transactionsPage"),l)};var l=a(r(15)),o=a(r(20)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(30)),i=r(113),c=r(46),s=r(21),d=r(199);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){var r=t.cardId,a=t.rewardId,n=t.cashierId,l=t.placeId,o=e===u.LOYALTY_TYPES.PUNCH?d.CARD_TYPES.PUNCH:d.CARD_TYPES.POINTS;return{"filter[card]":r,"filter[punchReward]":a,"filter[location]":e===u.LOYALTY_TYPES.POINTS?"null":l,"filter[cashier]":n,"filter[cardType]":o}}},1403:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var n,l=a(r(15)),o=r(35),u=a(r(30)),i=r(21),c=r(199);t.reducer=(0,o.combineReducers)((n={},(0,l.default)(n,c.TRANSACTIONS,(0,i.storage)(c.TRANSACTIONS)),(0,l.default)(n,c.TRANSACTION_STATS,(0,i.storage)(c.TRANSACTION_STATS)),(0,l.default)(n,"transactionsPage",(0,i.collection)(c.TRANSACTIONS,(0,u.default)("transactionsPage"))),(0,l.default)(n,"generalStats",(0,i.one)(c.TRANSACTION_STATS,(0,u.default)("generalStats"))),n))},1404:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getGeneralStats=function(e){var t=f(e).generalStats;return(0,s.getOne)(t,e)},t.getTransactionInfos=void 0,t.getTransactions=p,t.getTransactionsState=f;var n=a(r(20)),l=r(197),o=a(r(30)),u=r(112),i=r(81),c=r(113),s=r(21),d=r(199);function f(e){return e[(0,o.default)()][d.moduleName]}function p(e){var t=f(e).transactionsPage;return(0,s.getCollection)(t,e)}t.getTransactionInfos=(0,l.createSelector)((function(e){return p(e)}),(function(e){return(0,i.getUsers)(e)}),(function(e){return(0,i.getCards)(e)}),(function(e){return(0,c.getPunchRewards)(e)}),(function(e){return(0,u.getCashiers)(e)}),(function(e){return(0,i.getLoyaltyPlaces)(e)}),(function(e,t,r,a,l,o){var u=n.default.keyBy(t,"legacyId"),i=n.default.keyBy(r,"id"),c=n.default.keyBy(a,"id"),d=n.default.keyBy(l,"id"),f=n.default.keyBy(o,"id"),p=n.default.reduce(e,(function(e,t){var r=t.id,a=t.card,l=t.punchReward,o=t.transactionData;if(!o)return e;var s=o.location,p=o.cashier,y=n.default.get(i[a],"user.id");return e.push({id:r,transaction:t,cashier:d[p],place:f[s],user:u[y],reward:c[l]}),e}),[]);return(0,s.cloneStatus)(e,p),p}))},1405:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1406));t.default=n.default},1406:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=a(r(1)),l=r(19),o=a(r(24)),u=a(r(20)),i=a(r(0)),c=r(30),s=a(r(1407));function d(e){var t=e.generalStats,r=e.loyaltyType===c.LOYALTY_TYPES.PUNCH,a=r?o.default.t(s.default.PUNCHES_EARNED_TITLE):o.default.t(s.default.POINTS_EARNED_TITLE),i=r?o.default.t(s.default.PUNCHES_REDEEMED_TITLE):o.default.t(s.default.POINTS_REDEEMED_TITLE),d=r?function(e){var t=u.default.get(e,"totalEarnedPunches",0),r=u.default.get(e,"totalRedeemedPunches",0),a=u.default.get(e,"redeemedPunches",0);return{balance:u.default.round(t-r,2),rewardsRedeemed:a,pointsRedeemed:r,pointsEarned:t}}(t):function(e){var t=u.default.get(e,"totalEarnedPoints",0),r=u.default.get(e,"totalRedeemedPoints",0),a=u.default.get(e,"redeemedPoints",0);return{balance:u.default.round(t-r,2),rewardsRedeemed:a,pointsRedeemed:r,pointsEarned:t}}(t);return n.default.createElement(l.Row,{className:"general-stats"},n.default.createElement(l.Col,{className:"general-stats__item",xs:3},n.default.createElement("div",null,a),n.default.createElement("label",null,d.pointsEarned)),n.default.createElement(l.Col,{className:"general-stats__item",xs:3},n.default.createElement("div",null,i),n.default.createElement("label",null,d.pointsRedeemed)),n.default.createElement(l.Col,{className:"general-stats__item",xs:3},n.default.createElement("div",null,o.default.t(s.default.REWARDS_REDEEMED_TITLE)),n.default.createElement("label",null,d.rewardsRedeemed)),n.default.createElement(l.Col,{className:"general-stats__item",xs:3},n.default.createElement("div",null,o.default.t(s.default.CURRENT_BALANCE_TITLE)),n.default.createElement("label",null,d.balance)))}r(1408),d.propTypes={generalStats:i.default.object,loyaltyType:i.default.string}},1407:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="general-stats",n="".concat(a,".punches-earned-title"),l="".concat(a,".points-earned-title"),o="".concat(a,".punches-redeemed-title"),u="".concat(a,".points-redeemed-title"),i="".concat(a,".rewards-redeemed-title"),c="".concat(a,".current-balance-title");t.default={PUNCHES_EARNED_TITLE:n,POINTS_EARNED_TITLE:l,PUNCHES_REDEEMED_TITLE:o,POINTS_REDEEMED_TITLE:u,REWARDS_REDEEMED_TITLE:i,CURRENT_BALANCE_TITLE:c}},1408:function(e,t,r){},1409:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1410));t.default=n.default},1410:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var n=a(r(1)),l=r(19),o=a(r(24)),u=a(r(20)),i=a(r(0)),c=r(30),s=a(r(1411)),d=a(r(1413));function f(e){var t=e.loyaltyType,r=e.onLoyaltyTypeChanged;return n.default.createElement(l.FormGroup,{className:"loyalty-type-radio-group"},n.default.createElement(l.ControlLabel,null,o.default.t(d.default.TYPE_OF_LOYALTY_TITLE)),n.default.createElement(s.default,{currentLoyaltyType:t,loyaltyType:c.LOYALTY_TYPES.POINTS,onSelected:r},o.default.t(d.default.POINTS_CARD_TITLE)),n.default.createElement(s.default,{currentLoyaltyType:t,loyaltyType:c.LOYALTY_TYPES.PUNCH,onSelected:r},o.default.t(d.default.PUNCH_CARD_TITLE)),n.default.createElement(s.default,{currentLoyaltyType:t,loyaltyType:c.LOYALTY_TYPES.MULTI,onSelected:r},o.default.t(d.default.MULTICARD_TITLE)))}r(1414),f.propTypes={loyaltyType:i.default.oneOf(u.default.values(c.LOYALTY_TYPES)),onLoyaltyTypeChanged:i.default.func}},1411:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1412));t.default=n.default},1412:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=a(r(18)),p=a(r(0)),y=r(29);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}(t.default=function(e){(0,i.default)(r,e);var t=v(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,f.default)((0,u.default)(a)),a}return(0,o.default)(r,[{key:"handleRadioClick",value:function(){var e=this.props,t=e.loyaltyType;(0,e.onSelected)(t)}},{key:"render",value:function(){var e=this.props,t=e.loyaltyType,r=e.currentLoyaltyType,a=e.children;return d.default.createElement(y.Radio,{checked:t===r,inline:!0,name:"loyalty-type-radio",onClick:this.handleRadioClick},a)}}]),r}(d.Component)).propTypes={loyaltyType:p.default.string,currentLoyaltyType:p.default.string,onSelected:p.default.func,children:p.default.node}},1413:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="loyalty-type-radio-group",n="".concat(a,".type-of-loyalty-title"),l="".concat(a,".points-card-title"),o="".concat(a,".punch-card-title"),u="".concat(a,".multicard-title");t.default={TYPE_OF_LOYALTY_TITLE:n,POINTS_CARD_TITLE:l,PUNCH_CARD_TITLE:o,MULTICARD_TITLE:u}},1414:function(e,t,r){},1415:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1416));t.default=n.default},1416:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SingleCardTransactionForm=y,t.default=void 0;var n=a(r(1)),l=r(19),o=a(r(140)),u=a(r(24)),i=a(r(0)),c=r(109),s=r(63),d=r(29),f=r(64),p=a(r(1420));function y(e){var t=e.fields,r=e.submitting,a=e.handleSubmit,i=e.onCancel,c=e.users,s=e.error,f=t.user,y=t.points,m=!(!s&&!r);return n.default.createElement("form",{className:"transaction-form",onSubmit:a},n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"user",field:f,name:u.default.t(p.default.FORM_USER_TITLE)},n.default.createElement(o.default,{autoBlur:!0,clearable:!1,options:c,placeholder:u.default.t(p.default.FORM_SELECT_USER_TITLE)}))),n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"points",field:y,name:u.default.t(p.default.FORM_POINTS_TITLE)})),n.default.createElement(l.ButtonToolbar,null,n.default.createElement(l.Button,{bsSize:"large",bsStyle:"primary",disabled:m,type:"submit"},n.default.createElement(d.LoaderContainer,{isLoading:r},u.default.t(p.default.BUTTON_SUBMIT_TITLE))),n.default.createElement(l.Button,{bsSize:"large",disabled:r,onClick:i},u.default.t(p.default.BUTTON_CANCEL_TITLE))),s&&n.default.createElement("div",{className:"has-error transaction-form__general-error"},n.default.createElement(l.HelpBlock,null,s)))}r(1421),y.propTypes={handleSubmit:i.default.func,onCancel:i.default.func,submitting:i.default.bool,fields:i.default.object,users:i.default.array,error:i.default.string};t.default=(0,c.reduxForm)({getFormState:s.getFormState,form:"singleCardTransactionForm",fields:["user","points"],validate:f.validateSingleCardTransaction})(y)},1417:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.formatCashierLabel=function(e){var t=n.default.get(e,"firstName",""),r=n.default.get(e,"lastName","");return"".concat(t," ").concat(r)},t.formatPlaceLabel=function(e){return e?e.name:""},t.formatRewardLabel=function(e){return e?e.title:""},t.formatUserLabel=function(e){var t=n.default.get(e,"profile.firstName",""),r=n.default.get(e,"profile.lastName","");return"".concat(t," ").concat(r)};var n=a(r(20))},1418:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionCount=function(e){var t=(0,u.getMeta)(e);return l.default.get(t,"count",0)},t.validateMultiCardTransaction=function(e){var t=e.points,r=e.user,a=e.place;return{points:c(t),user:s(r),place:d(a)}},t.validatePunchCardTransaction=function(e){var t=e.points,r=e.user,a=e.reward;return{points:c(t),user:s(r),reward:f(a)}},t.validateSingleCardTransaction=function(e){var t=e.points,r=e.user;return{points:c(t),user:s(r)}};var n=a(r(24)),l=a(r(20)),o=r(639),u=r(21),i=a(r(1419));function c(e){return l.default.isEmpty(e)?{points:n.default.t(i.default.POINTS_MISSING_MESSAGE)}:(0,o.isNumeric)(e)?null:{points:n.default.t(i.default.ONLY_NUMBER_ALLOWED_MESSAGE)}}function s(e){return e?null:n.default.t(i.default.USER_MISSING_MESSAGE)}function d(e){return e?null:n.default.t(i.default.PLACE_MISSING_MESSAGE)}function f(e){return e?null:n.default.t(i.default.PUNCH_MISSING_MESSAGE)}},1419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="transactions-services",n="".concat(a,".points-missing-message"),l="".concat(a,".only-numbers-allowed-message"),o="".concat(a,".user-missing-message"),u="".concat(a,".place-missing-message"),i="".concat(a,".punch-missing-message");t.default={POINTS_MISSING_MESSAGE:n,ONLY_NUMBER_ALLOWED_MESSAGE:l,USER_MISSING_MESSAGE:o,PLACE_MISSING_MESSAGE:u,PUNCH_MISSING_MESSAGE:i}},1420:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="single-card-transaction-form",n="".concat(a,".form-user-title"),l="".concat(a,".form-select-user-title"),o="".concat(a,".form-points-title"),u="".concat(a,".button-submit-title"),i="".concat(a,".button-cancel-title");t.default={FORM_USER_TITLE:n,FORM_SELECT_USER_TITLE:l,FORM_POINTS_TITLE:o,BUTTON_SUBMIT_TITLE:u,BUTTON_CANCEL_TITLE:i}},1421:function(e,t,r){},1422:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1423));t.default=n.default},1423:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiCardTransactionForm=y,t.default=void 0;var n=a(r(1)),l=r(19),o=a(r(140)),u=a(r(24)),i=a(r(0)),c=r(109),s=r(63),d=r(29),f=r(64),p=a(r(1424));function y(e){var t=e.fields,r=e.submitting,a=e.handleSubmit,i=e.onCancel,c=e.places,s=e.users,f=e.error,y=t.user,m=t.place,v=t.points;return n.default.createElement("form",{className:"transaction-form",onSubmit:a},n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"place",field:m,name:u.default.t(p.default.FORM_PLACE_TITLE)},n.default.createElement(o.default,{autoBlur:!0,clearable:!1,options:c,placeholder:u.default.t(p.default.FORM_SELECT_PLACE_TITLE)}))),n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"user",field:y,name:u.default.t(p.default.FORM_USER_TITLE)},n.default.createElement(o.default,{autoBlur:!0,clearable:!1,options:s,placeholder:u.default.t(p.default.FORM_SELECT_USER_TITLE)}))),n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"points",field:v,name:u.default.t(p.default.FORM_POINTS_TITLE)})),n.default.createElement(l.ButtonToolbar,null,n.default.createElement(l.Button,{bsSize:"large",bsStyle:"primary",disabled:r,type:"submit"},n.default.createElement(d.LoaderContainer,{isLoading:r},u.default.t(p.default.BUTTON_SUBMIT_TITLE))),n.default.createElement(l.Button,{bsSize:"large",disabled:r,onClick:i},u.default.t(p.default.BUTTON_CANCEL_TITLE))),f&&n.default.createElement("div",{className:"has-error transaction-form__general-error"},n.default.createElement(l.HelpBlock,null,f)))}r(1425),y.propTypes={handleSubmit:i.default.func,onCancel:i.default.func,submitting:i.default.bool,fields:i.default.object,users:i.default.array,places:i.default.array,error:i.default.string};t.default=(0,c.reduxForm)({getFormState:s.getFormState,form:"multiCardTransactionForm",fields:["user","place","points"],validate:f.validateMultiCardTransaction})(y)},1424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="multi-card-transaction-form",n="".concat(a,".form-place-title"),l="".concat(a,".form-select-place-title"),o="".concat(a,".form-user-title"),u="".concat(a,".form-select-user-title"),i="".concat(a,".form-points-title"),c="".concat(a,".button-submit-title"),s="".concat(a,".button-cancel-title");t.default={FORM_PLACE_TITLE:n,FORM_SELECT_PLACE_TITLE:l,FORM_USER_TITLE:o,FORM_SELECT_USER_TITLE:u,FORM_POINTS_TITLE:i,BUTTON_SUBMIT_TITLE:c,BUTTON_CANCEL_TITLE:s}},1425:function(e,t,r){},1426:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1427));t.default=n.default},1427:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.PunchCardTransactionForm=y,t.default=void 0;var n=a(r(1)),l=r(19),o=a(r(140)),u=a(r(24)),i=a(r(0)),c=r(109),s=r(63),d=r(29),f=r(64),p=a(r(1428));function y(e){var t=e.fields,r=e.submitting,a=e.handleSubmit,i=e.onCancel,c=e.rewards,s=e.users,f=e.error,y=t.user,m=t.reward,v=t.points;return n.default.createElement("form",{className:"transaction-form",onSubmit:a},n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"reward",field:m,name:u.default.t(p.default.FORM_REWARD_TITLE)},n.default.createElement(o.default,{autoBlur:!0,clearable:!1,options:c,placeholder:u.default.t(p.default.FORM_SELECT_CARD_TITLE)}))),n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"user",field:y,name:u.default.t(p.default.FORM_USER_TITLE)},n.default.createElement(o.default,{autoBlur:!0,clearable:!1,options:s,placeholder:u.default.t(p.default.FORM_SELECT_USER_TITLE)}))),n.default.createElement(l.Row,null,n.default.createElement(d.ReduxFormElement,{disabled:r,elementId:"points",field:v,name:u.default.t(p.default.FORM_POINTS_TITLE)})),n.default.createElement(l.ButtonToolbar,null,n.default.createElement(l.Button,{bsSize:"large",bsStyle:"primary",disabled:r,type:"submit"},n.default.createElement(d.LoaderContainer,{isLoading:r},u.default.t(p.default.BUTTON_SUBMIT_TITLE))),n.default.createElement(l.Button,{bsSize:"large",disabled:r,onClick:i},u.default.t(p.default.BUTTON_CANCEL_TITLE))),f&&n.default.createElement("div",{className:"has-error transaction-form__general-error"},n.default.createElement(l.HelpBlock,null,f)))}r(1429),y.propTypes={handleSubmit:i.default.func,onCancel:i.default.func,submitting:i.default.bool,fields:i.default.object,users:i.default.array,rewards:i.default.array,error:i.default.string};t.default=(0,c.reduxForm)({getFormState:s.getFormState,form:"punchCardTransactionForm",fields:["user","reward","points"],validate:f.validatePunchCardTransaction})(y)},1428:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="punch-card-transaction-form",n="".concat(a,".form-reward-title"),l="".concat(a,".form-select-card-title"),o="".concat(a,".form-user-title"),u="".concat(a,".form-select-user-title"),i="".concat(a,".form-points-title"),c="".concat(a,".button-submit-title"),s="".concat(a,".button-cancel-title");t.default={FORM_REWARD_TITLE:n,FORM_SELECT_CARD_TITLE:l,FORM_USER_TITLE:o,FORM_SELECT_USER_TITLE:u,FORM_POINTS_TITLE:i,BUTTON_SUBMIT_TITLE:c,BUTTON_CANCEL_TITLE:s}},1429:function(e,t,r){},1430:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1431));t.default=n.default},1431:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=a(r(18)),p=a(r(24)),y=a(r(20)),m=a(r(0)),v=r(30),g=r(29),h=a(r(1432)),b=a(r(1436));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}r(1437),(t.default=function(e){(0,i.default)(r,e);var t=T(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,f.default)((0,u.default)(a)),a.state={filter:{}},a}return(0,o.default)(r,[{key:"componentWillReceiveProps",value:function(e){if(e.loyaltyType!==this.props.loyaltyType){var t=this.state.filter,r=y.default.pick(t,["userId","cashierId"]);this.setState({filter:r})}}},{key:"renderData",value:function(){var e=this.props,t=e.loyaltyType,r=e.transactionInfos,a=e.onDeleteClick;return y.default.map(r,(function(e){return d.default.createElement(h.default,{key:e.id,loyaltyType:t,onDeleteClick:a,transactionInfo:e})}))}},{key:"renderHeader",value:function(){var e=this.props.loyaltyType;return d.default.createElement("tr",null,d.default.createElement("th",{className:"transactions-table__user"},p.default.t(b.default.HEADER_USER_TITLE)),e===v.LOYALTY_TYPES.PUNCH&&d.default.createElement("th",{className:"transactions-table__card"},p.default.t(b.default.HEADER_CARD_TITLE)),e===v.LOYALTY_TYPES.MULTI&&d.default.createElement("th",{className:"transactions-table__place"},p.default.t(b.default.HEADER_PLACE_TITLE)),d.default.createElement("th",{className:"transactions-table__cashier"},p.default.t(b.default.HEADER_CASHIER_TITLE)),d.default.createElement("th",{className:"transactions-table__time"},p.default.t(b.default.HEADER_TIME_TITLE),d.default.createElement(g.FontIcon,{name:"sortdescending"})),d.default.createElement("th",{className:"transactions-table__transaction"},p.default.t(b.default.HEADER_TRANSACTION_TITLE)),d.default.createElement("th",{className:"transactions-table__actions"}))}},{key:"render",value:function(){var e=this.props,t=e.loyaltyType,r=e.transactionInfos,a=y.default.isEmpty(r);return d.default.createElement("table",{className:"transactions-table table"},d.default.createElement("thead",null,this.renderHeader()),d.default.createElement("tbody",null,a&&function(e){var t=e===v.LOYALTY_TYPES.POINTS?5:6;return d.default.createElement("tr",{className:"transactions-table__empty-row"},d.default.createElement("td",{colSpan:t},p.default.t(b.default.EMPTY_PLACEHOLDER_TITLE)))}(t),!a&&this.renderData()))}}]),r}(d.Component)).propTypes={loyaltyType:m.default.string,transactionInfos:m.default.array,onDeleteClick:m.default.func}},1432:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1433));t.default=n.default},1433:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=r(19),p=a(r(24)),y=a(r(4)),m=a(r(0)),v=r(30),g=r(29),h=r(64),b=a(r(1434));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}r(1435),(t.default=function(e){(0,i.default)(r,e);var t=T(r);function r(e){var a;return(0,l.default)(this,r),(a=t.call(this,e)).handleDeleteTransactionClick=a.handleDeleteTransactionClick.bind((0,u.default)(a)),a}return(0,o.default)(r,[{key:"handleDeleteTransactionClick",value:function(){var e=this.props;(0,e.onDeleteClick)(e.transactionInfo.transaction.id)}},{key:"render",value:function(){var e,t=this.props,r=t.loyaltyType,a=t.transactionInfo,n=a.cashier,l=a.place,o=a.user,u=a.reward,i=a.transaction,c=i.createdAt,s=i.transactionData.points;return d.default.createElement("tr",{className:"transaction-table-row"},d.default.createElement("td",{className:"transaction-table-row__user"},(0,h.formatUserLabel)(o)),r===v.LOYALTY_TYPES.PUNCH&&d.default.createElement("td",{className:"transaction-table-row__reward"},(0,h.formatRewardLabel)(u)),r===v.LOYALTY_TYPES.MULTI&&d.default.createElement("td",{className:"transaction-table-row__place"},(0,h.formatPlaceLabel)(l)),d.default.createElement("td",{className:"transaction-table-row__cashier"},(0,h.formatCashierLabel)(n)),d.default.createElement("td",{className:"transaction-table-row__time"},c&&(e=c,(0,y.default)(e).format(p.default.t(b.default.DATE_FORMAT)))),d.default.createElement("td",{className:"transaction-table-row__points"},function(e){return e>0?"+".concat(e):e}(s)),d.default.createElement("td",{className:"transaction-table-row__action"},d.default.createElement(f.Button,{className:"btn-icon pull-right",onClick:this.handleDeleteTransactionClick},d.default.createElement(g.FontIcon,{name:"delete",size:"24px"}))))}}]),r}(d.Component)).propTypes={loyaltyType:m.default.string,transactionInfo:m.default.object,onDeleteClick:m.default.func}},1434:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="".concat("transaction-table-row",".date-format");t.default={DATE_FORMAT:a}},1435:function(e,t,r){},1436:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="transaction-table",n="".concat(a,".empty-placeholder-title"),l="".concat(a,".header-user-title"),o="".concat(a,".header-card-title"),u="".concat(a,".header-place-title"),i="".concat(a,".header-cashier-title"),c="".concat(a,".header-time-title"),s="".concat(a,".header-transaction-title");t.default={EMPTY_PLACEHOLDER_TITLE:n,HEADER_USER_TITLE:l,HEADER_CARD_TITLE:o,HEADER_PLACE_TITLE:u,HEADER_CASHIER_TITLE:i,HEADER_TIME_TITLE:c,HEADER_TRANSACTION_TITLE:s}},1437:function(e,t,r){},1438:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AddTransactionFragment",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"TransactionsDashboard",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"TransactionsFilter",{enumerable:!0,get:function(){return o.default}});var n=a(r(658)),l=a(r(1442)),o=a(r(1445))},1439:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AddTransactionFragment=void 0;var l=a(r(15)),o=a(r(28)),u=a(r(6)),i=a(r(7)),c=a(r(5)),s=a(r(9)),d=a(r(10)),f=a(r(11)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=N(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),y=r(19),m=r(39),v=a(r(18)),g=a(r(24)),h=a(r(20)),b=a(r(0)),E=r(30),T=r(112),O=r(81),_=r(113),P=r(46),j=r(29),S=r(21),I=r(307),R=r(306),L=r(64),C=a(r(1440));r(1441);var M=["user"];function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(N=function(e){return e?r:t})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,d.default)(this,r)}}var w=t.AddTransactionFragment=function(e){(0,s.default)(r,e);var t=D(r);function r(e){var a;return(0,u.default)(this,r),a=t.call(this,e),(0,v.default)((0,c.default)(a)),a.state={showTransactionModal:!1},a}return(0,i.default)(r,[{key:"handleShowTransactionModal",value:function(){this.setState({showTransactionModal:!0})}},{key:"handleHideTransactionModal",value:function(){this.setState({showTransactionModal:!1})}},{key:"handleAddTransaction",value:function(e){var t=this,r=this.props,a=r.programId,n=r.cards,l=e.user.value,u=(0,o.default)(e,M),i=h.default.get(n,[l,"id"]);return new Promise((function(e,r){return i?t.createTransaction(i,u).catch((function(){return r({_error:g.default.t(C.default.UNABLE_TO_CREATE_MESSAGE)})})):t.props.createCard(a,l).then((function(e){return t.createTransaction(e,u)})).catch((function(){return r({_error:g.default.t(C.default.UNABLE_TO_CREATE_MESSAGE)})}))}))}},{key:"createTransaction",value:function(e,t){var r=this.props.programId,a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cardId:e},t);return this.props.createTransaction(r,a).then(this.handleHideTransactionModal)}},{key:"renderModal",value:function(){var e=this.props,t=e.rewards,r=e.places,a=e.users,n=e.loyaltyType,l=e.filter;return p.default.createElement(j.InlineModal,{className:"add-transaction-modal settings-page-modal",onHide:this.handleHideTransactionModal,title:g.default.t(C.default.TITLE)},n===E.LOYALTY_TYPES.POINTS&&p.default.createElement(I.SingleCardTransactionForm,{initialValues:l,onCancel:this.handleHideTransactionModal,onSubmit:this.handleAddTransaction,users:(0,P.createSelectOptions)(a,L.formatUserLabel,"legacyId")}),n===E.LOYALTY_TYPES.PUNCH&&p.default.createElement(I.PunchCardTransactionForm,{initialValues:l,onCancel:this.handleHideTransactionModal,onSubmit:this.handleAddTransaction,rewards:(0,P.createSelectOptions)(t,L.formatRewardLabel),users:(0,P.createSelectOptions)(a,L.formatUserLabel,"legacyId")}),n===E.LOYALTY_TYPES.MULTI&&p.default.createElement(I.MultiCardTransactionForm,{initialValues:l,onCancel:this.handleHideTransactionModal,onSubmit:this.handleAddTransaction,places:(0,P.createSelectOptions)(r,L.formatPlaceLabel),users:(0,P.createSelectOptions)(a,L.formatUserLabel,"legacyId")}))}},{key:"render",value:function(){var e=this.state.showTransactionModal;return p.default.createElement("div",{className:"add-transaction-fragment"},p.default.createElement(y.Button,{className:"btn-icon pull-right",onClick:this.handleShowTransactionModal},p.default.createElement(j.IconLabel,{iconName:"add"},g.default.t(C.default.BUTTON_ADD_TITLE))),e&&this.renderModal())}}]),r}(p.PureComponent);w.propTypes={appId:b.default.string,programId:b.default.string,loyaltyType:b.default.string,filter:b.default.object,users:b.default.array,cards:b.default.object,rewards:b.default.array,places:b.default.array,createTransaction:b.default.func,createCard:b.default.func};t.default=(0,m.connect)((function(e){return{places:(0,O.getLoyaltyPlaces)(e),cashiers:(0,T.getCashiers)(e),rewards:(0,_.getPunchRewards)(e),users:(0,O.getUsers)(e),cards:(0,O.getCardsByUserId)(e)}}),(function(e,t){var r=t.extensionName,a=t.appId,n={extensionName:r};return{createTransaction:function(t,r){return e((0,R.createTransaction)(t,r,a,n)).then((function(){return e((0,S.invalidate)(R.TRANSACTION_STATS))}))},createCard:function(t,r){return e((0,O.createCard)(t,r,n)).then((function(e){return h.default.get(e,"payload.data.id")}))}}}))(w)},1440:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="add-transaction-fragment",n="".concat(a,".title"),l="".concat(a,".unable-to-create-message"),o="".concat(a,".button-add-title");t.default={TITLE:n,UNABLE_TO_CREATE_MESSAGE:l,BUTTON_ADD_TITLE:o}},1441:function(e,t,r){},1442:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1443));t.default=n.default},1443:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionsDashboard=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=r(39),p=a(r(18)),y=a(r(24)),m=a(r(0)),v=r(29),g=r(21),h=r(307),b=r(306),E=r(64),T=a(r(658)),O=a(r(1444));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}var j=t.TransactionsDashboard=function(e){(0,i.default)(r,e);var t=P(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,p.default)((0,u.default)(a)),a}return(0,o.default)(r,[{key:"handleDeleteTransactionClick",value:function(e){var t=this;this.refs.confirm.show({title:y.default.t(O.default.DELETE_TRANSACTION_TITLE),message:y.default.t(O.default.DELETE_TRANSACTION_MESSAGE),confirmLabel:y.default.t(O.default.DELETE_TRANSACTION_BUTTON_CONFIRM_TITLE),confirmBsStyle:"danger",abortLabel:y.default.t(O.default.DELETE_TRANSACTION_BUTTON_ABORT_TITLE),onConfirm:function(){return t.handleConfirmDeleteTransaction(e)}})}},{key:"handleConfirmDeleteTransaction",value:function(e){var t=this.props.programId;return this.props.deleteTransaction(e,t)}},{key:"handleNextPageClick",value:function(){var e=this.props.transactionInfos;this.props.loadNextPage(e)}},{key:"handlePreviousPageClick",value:function(){var e=this.props.transactionInfos;this.props.loadPreviousPage(e)}},{key:"renderTable",value:function(){var e=this.props,t=e.appId,r=e.filter,a=e.generalStats,n=e.extensionName,l=e.loyaltyType,o=e.programId,u=e.transactionInfos,i=e.onFilterChange,c=(0,E.getTransactionCount)(u);return d.default.createElement(v.LoaderContainer,{isLoading:(0,g.isBusy)(u),isOverlay:!0},d.default.createElement("h4",null,y.default.t(O.default.OVERALL_STATISTICS_TITLE)),d.default.createElement(h.GeneralStats,{generalStats:a,loyaltyType:l}),d.default.createElement("h4",null,y.default.t(O.default.TITLE)),d.default.createElement(T.default,{appId:t,extensionName:n,filter:r,loyaltyType:l,programId:o}),d.default.createElement(h.TransactionsTable,{loyaltyType:l,onDeleteClick:this.handleDeleteTransactionClick,onFilterChange:i,transactionInfos:u}),d.default.createElement(v.Paging,{itemCount:c,onNextPageClick:this.handleNextPageClick,onPreviousPageClick:this.handlePreviousPageClick}))}},{key:"render",value:function(){return d.default.createElement("div",{className:"transactions-dashboard"},this.renderTable(),d.default.createElement(v.ConfirmModal,{ref:"confirm"}))}}]),r}(d.Component);j.propTypes={appId:m.default.string,programId:m.default.string,extensionName:m.default.string,filter:m.default.object,loyaltyType:m.default.string,transactionInfos:m.default.array,generalStats:m.default.object,loadNextPage:m.default.func,loadPreviousPage:m.default.func,deleteTransaction:m.default.func,onFilterChange:m.default.func};t.default=(0,f.connect)((function(e){return{transactionInfos:(0,b.getTransactionInfos)(e),generalStats:(0,b.getGeneralStats)(e)}}),(function(e,t){var r={extensionName:t.extensionName};return{deleteTransaction:function(t,a){return e((0,b.deleteTransaction)(t,a,r)).then((function(){return e((0,g.invalidate)(b.TRANSACTION_STATS))}))},loadNextPage:function(t){return e((0,b.loadNextTransactionsPage)(t))},loadPreviousPage:function(t){return e((0,b.loadPreviousTransactionsPage)(t))}}}))(j)},1444:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="transactions-dashboard",n="".concat(a,".title"),l="".concat(a,".overall-statistics-title"),o="".concat(a,".delete-transacation.title"),u="".concat(a,".delete-transacation.message"),i="".concat(a,".delete-transacation.button-confirm-title"),c="".concat(a,".delete-transacation.button-abort-title");t.default={TITLE:n,OVERALL_STATISTICS_TITLE:l,DELETE_TRANSACTION_TITLE:o,DELETE_TRANSACTION_MESSAGE:u,DELETE_TRANSACTION_BUTTON_CONFIRM_TITLE:i,DELETE_TRANSACTION_BUTTON_ABORT_TITLE:c}},1445:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1446));t.default=n.default},1446:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionsFilter=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(5)),i=a(r(9)),c=a(r(10)),s=a(r(11)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),f=r(19),p=r(39),y=a(r(140)),m=a(r(18)),v=a(r(24)),g=a(r(20)),h=a(r(0)),b=r(30),E=r(112),T=r(81),O=r(113),_=r(46),P=r(64),j=a(r(1447));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,c.default)(this,r)}}r(1448);var R=t.TransactionsFilter=function(e){(0,i.default)(r,e);var t=I(r);function r(e){var a;return(0,l.default)(this,r),a=t.call(this,e),(0,m.default)((0,u.default)(a)),a}return(0,o.default)(r,[{key:"handleUserChange",value:function(e){var t=g.default.get(e,"value");this.props.onFilterChange({userId:t})}},{key:"handlePlaceChange",value:function(e){var t=g.default.get(e,"value");this.props.onFilterChange({placeId:t})}},{key:"handleCashierChange",value:function(e){var t=g.default.get(e,"value");this.props.onFilterChange({cashierId:t})}},{key:"handleRewardChange",value:function(e){var t=g.default.get(e,"value");this.props.onFilterChange({rewardId:t})}},{key:"render",value:function(){var e=this.props,t=e.loyaltyType,r=e.users,a=e.cashiers,n=e.places,l=e.rewards,o=e.filter,u=t===b.LOYALTY_TYPES.POINTS?6:4;return d.default.createElement(f.Row,{className:"transactions-filter"},d.default.createElement(f.Col,{xs:u},d.default.createElement(y.default,{autoBlur:!0,clearable:!0,onChange:this.handleUserChange,options:(0,_.createSelectOptions)(r,P.formatUserLabel,"legacyId"),placeholder:v.default.t(j.default.FILTER_BY_USER_PLACEHOLDER_MESSAGE),value:o.userId})),t===b.LOYALTY_TYPES.PUNCH&&d.default.createElement(f.Col,{xs:u},d.default.createElement(y.default,{autoBlur:!0,clearable:!0,onChange:this.handleRewardChange,options:(0,_.createSelectOptions)(l,P.formatRewardLabel),placeholder:v.default.t(j.default.FILTER_BY_CARD_PLACEHOLDER_MESSAGE),value:o.rewardId})),t===b.LOYALTY_TYPES.MULTI&&d.default.createElement(f.Col,{xs:u},d.default.createElement(y.default,{autoBlur:!0,clearable:!0,onChange:this.handlePlaceChange,options:(0,_.createSelectOptions)(n,P.formatPlaceLabel),placeholder:v.default.t(j.default.FILTER_BY_PLACE_PLACEHOLDER_MESSAGE),value:o.placeId})),d.default.createElement(f.Col,{xs:u},d.default.createElement(y.default,{autoBlur:!0,clearable:!0,onChange:this.handleCashierChange,options:(0,_.createSelectOptions)(a,P.formatCashierLabel),placeholder:v.default.t(j.default.FILTER_BY_CASHIER_PLACEHOLDER_MESSAGE),value:o.cashierId})))}}]),r}(d.Component);R.propTypes={loyaltyType:h.default.string,filter:h.default.object,onFilterChange:h.default.func,cashiers:h.default.array,users:h.default.array,places:h.default.array,rewards:h.default.array};t.default=(0,p.connect)((function(e){return{places:(0,T.getLoyaltyPlaces)(e),cashiers:(0,E.getCashiers)(e),rewards:(0,O.getPunchRewards)(e),users:(0,T.getUsers)(e)}}))(R)},1447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="transactions-filter",n="".concat(a,".filter-by-user-placeholder-message"),l="".concat(a,".filter-by-card-placeholder-message"),o="".concat(a,".filter-by-place-placeholder-message"),u="".concat(a,".filter-by-cashier-placeholder-message");t.default={FILTER_BY_USER_PLACEHOLDER_MESSAGE:n,FILTER_BY_CARD_PLACEHOLDER_MESSAGE:l,FILTER_BY_PLACE_PLACEHOLDER_MESSAGE:o,FILTER_BY_CASHIER_PLACEHOLDER_MESSAGE:u}},1448:function(e,t,r){},1449:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="".concat("default-loyalty-shorcut-settings-page",".description");t.default={DESCRIPTION:a}},1450:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1451));t.default=n.default},1451:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(84)),o=a(r(6)),u=a(r(7)),i=a(r(5)),c=a(r(9)),s=a(r(10)),d=a(r(11)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),p=r(39),y=a(r(18)),m=a(r(24)),v=a(r(20)),g=a(r(0)),h=r(304),b=r(112),E=r(108),T=r(81),O=r(305),_=r(46),P=r(85),j=r(21),S=a(r(1452));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}r(1453);var L={filterKeyProp:"id",filterLabelProp:"name"},C=function(e){(0,c.default)(r,e);var t=R(r);function r(e){var a;(0,o.default)(this,r),a=t.call(this,e),(0,y.default)((0,i.default)(a));var n=e.ownExtension.settings;(0,_.initializeApiEndpoints)(n);var l=n.rules,u=n.requireReceiptCode,c=n.enableBarcodeScan,s=(0,_.getProgramId)(n);return a.state={programId:s,rules:l,requireReceiptCode:u,enableBarcodeScan:c,currentPlaceId:null},a}return(0,u.default)(r,[{key:"componentWillMount",value:function(){this.checkData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkData(e,this.props)}},{key:"checkData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.props.appId;(0,j.shouldLoad)(e,t,"places")&&this.props.loadPlaces(r)}},{key:"handleUpdateExtension",value:function(e){var t=this.props.ownExtension;return this.props.updateExtensionSettings(t,e)}},{key:"handlePlaceChange",value:function(e){this.setState({currentPlaceId:e})}},{key:"handleEnableLoyalty",value:function(){var e=this,t=this.state.rules;return this.props.enableLoyalty(t).then((function(t){var r={type:T.PROGRAMS,id:t};return Promise.all([t,e.handleUpdateExtension({program:r})])})).then((function(t){var r=(0,l.default)(t,1)[0];return e.setState({programId:r})}))}},{key:"renderLoyaltySettings",value:function(){var e=this.state,t=e.programId,r=e.requireReceiptCode,a=e.enableBarcodeScan,n=e.currentPlaceId,l=e.rules,o=this.props,u=o.appId,i=o.places,c=o.ownExtensionName,s=!v.default.isEmpty(i),d=!n;return f.default.createElement("div",null,s&&f.default.createElement(E.CmsSelect,{allItemsLabel:m.default.t(S.default.FORM_ALL_STORES_TITLE),descriptor:L,dropdownLabel:m.default.t(S.default.FORM_SELECT_STORE_TITLE),onFilterChange:this.handlePlaceChange,resources:i}),d&&f.default.createElement(T.ProgramSettings,{enableBarcodeScan:a,extensionName:c,onUpdateExtension:this.handleUpdateExtension,programId:t,requireReceiptCode:r}),f.default.createElement(O.RulesSettings,{currentPlaceId:n,extensionName:c,onUpdateExtension:this.handleUpdateExtension,programId:t,requireReceiptCode:r,ruleTemplates:l}),f.default.createElement(b.CashierSettings,{appId:u,currentPlaceId:n,extensionName:c,places:i,placesDescriptor:L,programId:t}))}},{key:"render",value:function(){var e=this.state.programId;return f.default.createElement("div",{className:"loyalty-settings-page settings-page"},!e&&f.default.createElement(h.LoyaltyDisabledPlaceholder,{onEnableLoyaltyClick:this.handleEnableLoyalty}),e&&this.renderLoyaltySettings())}}]),r}(f.Component);C.propTypes={appId:g.default.string,appOwnerId:g.default.string,ownExtension:g.default.object,updateExtensionSettings:g.default.func,enableLoyalty:g.default.func,createAuthorization:g.default.func,places:g.default.array,loadPlaces:g.default.func,ownExtensionName:g.default.string};t.default=(0,p.connect)((function(e){return{places:(0,T.getLoyaltyPlaces)(e)}}),(function(e,t){var r=t.appOwnerId,a=t.ownExtensionName,n={appOwnerId:r},l={extensionName:a};return{updateExtensionSettings:function(t,r){return e((0,P.updateExtensionSettings)(t,r))},enableLoyalty:function(t,r){return e((0,T.enableLoyalty)(t,r,n,l))},loadPlaces:function(t,r){return e((0,T.loadLoyaltyPlaces)(t,r,l))}}}))(C)},1452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="loyalty-settings-page",n="".concat(a,".form-all-stores-title"),l="".concat(a,".form-select-store-title");t.default={FORM_ALL_STORES_TITLE:n,FORM_SELECT_STORE_TITLE:l}},1453:function(e,t,r){},1454:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1455));t.default=n.default},1455:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionsPage=void 0;var l=a(r(15)),o=a(r(28)),u=a(r(6)),i=a(r(7)),c=a(r(5)),s=a(r(9)),d=a(r(10)),f=a(r(11)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),y=r(39),m=a(r(18)),v=a(r(24)),g=a(r(20)),h=a(r(0)),b=r(30),E=r(112),T=r(81),O=r(113),_=r(657),P=r(46),j=r(29),S=r(21),I=a(r(1456));r(1457);var R=["userId"];function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(L=function(e){return e?r:t})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,d.default)(this,r)}}var A=t.TransactionsPage=function(e){(0,s.default)(r,e);var t=N(r);function r(e){var a;(0,u.default)(this,r),a=t.call(this,e),(0,m.default)((0,c.default)(a));var n=e.extension.settings;(0,P.initializeApiEndpoints)(n);var l=(0,P.getProgramId)(n);return a.state={programId:l,loyaltyType:b.LOYALTY_TYPES.POINTS,filter:{}},a}return(0,i.default)(r,[{key:"componentWillMount",value:function(){this.checkData(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkData(e,this.props)}},{key:"checkData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.state.programId,a=e.appId;r&&((0,S.shouldLoad)(e,t,"transactions")&&this.loadTransactionStats(),(0,S.shouldLoad)(e,t,"cashiers")&&this.props.loadCashiers(r),(0,S.shouldLoad)(e,t,"places")&&this.props.loadPlaces(a),(0,S.shouldLoad)(e,t,"cardsByUserId")&&this.props.loadCards(r),(0,S.shouldLoad)(e,t,"punchRewards")&&this.props.loadPunchRewards(r,a),(0,S.shouldLoad)(e,t,"users")&&this.props.loadUsers(a))}},{key:"loadTransactionStats",value:function(){var e=this.props.cardsByUserId,t=this.state,r=t.programId,a=t.loyaltyType,n=t.filter,l=n.userId,u=(0,o.default)(n,R),i=M({cardId:l&&g.default.get(e,[l,"id"],"null")},u);this.props.loadTransactions(r,a,i),this.props.loadGeneralStats(r,a,i)}},{key:"handleLoyaltyTypeChange",value:function(e){var t=this.state.filter,r=g.default.pick(t,["userId","cashierId"]);this.setState({loyaltyType:e,filter:r},this.loadTransactionStats)}},{key:"handleFilterChange",value:function(e){var t=M(M({},this.state.filter),e);this.setState({filter:t},this.loadTransactionStats)}},{key:"render",value:function(){var e=this.props,t=e.appId,r=e.ownExtensionName,a=e.transactions,n=e.generalStats,l=e.users,o=this.state,u=o.programId,i=o.loyaltyType,c=o.filter,s=(0,S.isInitialized)(a)&&(0,S.isInitialized)(n)&&(0,S.isInitialized)(l);return p.default.createElement(j.LoaderContainer,{className:"transactions-page settings-page is-wide",isLoading:u&&!s},p.default.createElement(_.LoyaltyTypeRadioGroup,{loyaltyType:i,onLoyaltyTypeChanged:this.handleLoyaltyTypeChange}),p.default.createElement("h3",null,v.default.t(I.default.TITLE)),p.default.createElement(_.TransactionsFilter,{filter:c,loyaltyType:i,onFilterChange:this.handleFilterChange}),p.default.createElement(_.TransactionsDashboard,{appId:t,extensionName:r,filter:c,loyaltyType:i,onFilterChange:this.handleFilterChange,programId:u}))}}]),r}(p.PureComponent);A.propTypes={appId:h.default.string,ownExtensionName:h.default.string,extension:h.default.object,transactions:h.default.array,generalStats:h.default.object,cardsByUserId:h.default.object,users:h.default.array,cashiers:h.default.array,punchRewards:h.default.array,places:h.default.array,loadTransactions:h.default.func,loadGeneralStats:h.default.func,loadCashiers:h.default.func,loadPlaces:h.default.func,loadCards:h.default.func,loadPunchRewards:h.default.func,loadUsers:h.default.func};t.default=(0,y.connect)((function(e){return{transactions:(0,_.getTransactions)(e),generalStats:(0,_.getGeneralStats)(e),cashiers:(0,E.getCashiers)(e),places:(0,T.getLoyaltyPlaces)(e),punchRewards:(0,O.getPunchRewards)(e),users:(0,T.getUsers)(e),cardsByUserId:(0,T.getCardsByUserId)(e)}}),(function(e,t){var r={extensionName:t.ownExtensionName};return{loadTransactions:function(t,a,n){return e((0,_.loadTransactions)(t,a,n,r))},loadGeneralStats:function(t,a,n){return e((0,_.loadGeneralStats)(t,a,n,r))},loadCashiers:function(t,a){return e((0,E.loadCashiers)(t,a,r))},loadPlaces:function(t,a){return e((0,T.loadLoyaltyPlaces)(t,a,r))},loadCards:function(t){return e((0,T.loadCards)(t,r))},loadPunchRewards:function(t,a){return e((0,O.loadPunchRewards)(t,a,r))},loadUsers:function(t){return e((0,T.loadUsers)(t,r))}}}))(A)},1456:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="".concat("transactions-page",".title");t.default={TITLE:a}},1457:function(e,t,r){},1458:function(e,t,r){},1459:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PageProvider",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"connectPage",{enumerable:!0,get:function(){return n.default}});var n=a(r(1460)),l=a(r(1461)),o=a(r(1462))},1460:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.connectPageContext=s,t.default=function(){return function(e){return s((0,i.connect)(d)(e))}};var n=a(r(23)),l=a(r(1)),o=a(r(0)),u=a(r(20)),i=r(39),c=r(85);function s(e){function t(t,r){var a=r.page,o=u.default.pick(a.getPageContext(),["appId","appOwnerId","extensionName","ownExtensionName","shortcutId","screenId"]),i=a.getParameters();return l.default.createElement(e,(0,n.default)({},o,{parameters:i}))}return t.contextTypes={page:o.default.object},t}function d(e,t){var r=t.shortcutId,a=t.extensionName,n=t.ownExtensionName;return{shortcut:(0,c.getShortcut)(e,r),extension:(0,c.getExtension)(e,a),ownExtension:(0,c.getExtension)(e,n)}}},1461:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(15)),l=a(r(6)),o=a(r(7)),u=a(r(30));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}t.default=function(){function e(t,r){(0,l.default)(this,e),this.pageContext=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ownExtensionName:(0,u.default)()},t),this.parameters=r}return(0,o.default)(e,[{key:"getPageContext",value:function(){return this.pageContext}},{key:"getParameters",value:function(){return this.parameters}}]),e}()},1462:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(r(6)),o=a(r(7)),u=a(r(9)),i=a(r(10)),c=a(r(11)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),d=a(r(0));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,i.default)(this,r)}}var y=t.default=function(e){(0,u.default)(r,e);var t=p(r);function r(){return(0,l.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"getChildContext",value:function(){return{page:this.props.page}}},{key:"render",value:function(){var e=this.props.children;return s.Children.only(e)}}]),r}(s.Component);y.propTypes={page:d.default.object,children:d.default.node},y.childContextTypes={page:d.default.object}},1463:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LocalizationProvider",{enumerable:!0,get:function(){return n.default}});var n=a(r(1464))},1464:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LocalizationProvider=void 0;var l=a(r(604)),o=a(r(605)),u=a(r(15)),i=a(r(6)),c=a(r(7)),s=a(r(5)),d=a(r(9)),f=a(r(10)),p=a(r(11)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),m=a(r(0)),v=a(r(24)),g=r(308),h=a(r(20)),b=r(39),E=r(29),T=a(r(1465));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,f.default)(this,r)}}var P=t.LocalizationProvider=function(e){(0,d.default)(a,e);var t,r=_(a);function a(e){var t;return(0,i.default)(this,a),(t=r.call(this,e)).handleInjection=t.handleInjection.bind((0,s.default)(t)),t.state={inProgress:!0},t}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.ownExtensionName,r=e.locale,a=e.translationUrl,n=h.default.get(T.default,t);v.default.use(g.initReactI18next).init({lng:"en",fallbackLng:"en",ns:[t],defaultNS:t,nsSeparator:!1,keySeparator:!1,resources:{en:(0,u.default)({},t,n)}}),this.handleInjection(r,a)}},{key:"componentWillReceiveProps",value:function(e){var t=e.locale,r=e.translationUrl,a=this.props,n=a.locale;a.translationUrl===r&&t===n||this.handleInjection(t,r)}},{key:"handleInjection",value:(t=(0,o.default)(l.default.mark((function e(t,r){var a,n,o,u;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.ownExtensionName,!r){e.next=19;break}return e.prev=2,e.next=5,fetch(r);case 5:return n=e.sent,e.next=8,n.json();case 8:if(o=e.sent,!(u=h.default.get(o,a))){e.next=15;break}return e.next=13,v.default.addResourceBundle(t,a,u);case 13:return e.next=15,v.default.changeLanguage(t);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(2);case 19:this.setState({inProgress:!1});case 20:case"end":return e.stop()}}),e,this,[[2,17]])}))),function(e,r){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.children;return this.state.inProgress?y.default.createElement(E.LoaderContainer,{size:"50px",isLoading:!0}):e}}]),a}(y.Component);P.propTypes={children:m.default.node,ownExtensionName:m.default.string,locale:m.default.string,translationUrl:m.default.string};t.default=(0,b.connect)((function(e,t){var r=t.context;return{ownExtensionName:h.default.get(r,"ownExtensionName"),locale:h.default.get(r,"i18n.locale"),translationUrl:h.default.get(r,"i18n.translationUrl")}}))(P)},1465:function(e){e.exports=JSON.parse('{"shoutem":{"loyalty":{"loyalty-disabled-placeholder.title":"Loyalty is not configured at the moment","loyalty-disabled-placeholder.description":"Here you will be able to configure your loyalty program settings, add cashiers and define rules.","loyalty-disabled-placeholder.button-try-again-title":"Try again","loyalty-disabled-placeholder.button-get-started-title":"Get started","loyalty-disabled-placeholder.failed-to-enable-message":"Failed to enable.","program-settings.title":"Program settings","program-settings.require-receipt":"Require receipt code for purchase validation","program-settings.enable-barcode-scanning":"Enable receipt barcode scanning","cashier-form.password-help-text":"Used by the cashier to login to application. Can contain numbers and/or letters","cashier-form.pin-help-text":"Used by the cashier to confirm customer transaction. Can contain numbers and/or letters","cashier-form.form-first-name-title":"First name","cashier-form.form-last-name-title":"Last name","cashier-form.form-email-address-title":"E-mail address","cashier-form.form-password-title":"App login password","cashier-form.form-pin-title":"PIN","cashier-form.form-all-stores-title":"All stores","cashier-form.form-select-store-title":"Select a store","cashier-form.button-save-title":"Save","cashier-form.button-add-title":"Add","cashier-form.button-cancel-title":"Cancel","cashier-table.title":"Cashier settings","cashier-table.button-add-cashier-title":"Add cashier","cashier-table.empty-placeholder-no-cashiers-message":"No cashiers yet","cashier-table.header-first-name-title":"First Name","cashier-table.header-last-name-title":"Last Name","cashier-table.header-pin-title":"PIN","cashier-table.header-store-title":"Store","cashier-settings.edit-cashier-title":"Edit cashier","cashier-settings.add-cashier-title":"Add a cashier","cashier-services.required-field-message":"{{name}} is required","cashier-services.email-required-message":"Email is required","cashier-services.email-not-valid-message":"Email is not valid","cashier-services.password-required-message":"Password is required","cashier-services.password-too-short-message":"Password is too short","cashier-services.pin-unique-message":"Pin must be unique.","cashier-services.user-already-exists-message":"User with this email already exists.","cashier-services.error-message":"Something went wrong, please try again","cms-select.dropdown-title":"Select item","cms-select.all-items-title":"All","cms-services.endpoint-required-message":"Cms endpoint cannot be empty!","cms-services.cannot-connect-message":"Cannot connect to cms: `session` is missing from `pageContext.auth`","barcode-reqex-form.regular-expression-title":"Barcode regular expression","barcode-reqex-form.button-save-title":"Save","barcode-reqex-form.help-message":"Regular expression used to validate the barcode.<1 />Use following markers within regular expression <3 />- <5>amount</5>: specifies the placement of amount (with decimal places) <7 />- <9>mod13</9>: specifies the placement of control digits. \'13\' indicates that sum of all digits can be divided by 13. <11 />Example:<13 />","barcode-reqex-form.regex-example":"^(.{6})(?<amount>.{5})(?<mod13>.{2})$","rules-form.button-update-rules-title":"Update rules","rules-table.visit-action-title":"Visit (QR or PIN verification)","rules-table.visit-unit-title":"points","rules-table.linear-point-action-title":"Purchase (PIN, QR or receipt scanning)","rules-table.linear-point-unit-title":"points per currency unit","rules-table.header-custom-action-title":"Customer’s action","rules-table.header-value-title":"Value","rules-table.header-rule-enabled-title":"Rule enabled","rules-toggle-switch.title":"Enable custom rules for this place","rules-settings.title":"Rules","rules-settings.error-message":"Something went wrong. Please refresh this page and try again.","general-stats.punches-earned-title":"Punches earned","general-stats.points-earned-title":"Points earned","general-stats.punches-redeemed-title":"Punches redeemed","general-stats.points-redeemed-title":"Points redeemed","general-stats.rewards-redeemed-title":"Rewards redeemed","general-stats.current-balance-title":"Current balance","loyalty-type-radio-group.type-of-loyalty-title":"Type of loyalty","loyalty-type-radio-group.points-card-title":"Points card","loyalty-type-radio-group.punch-card-title":"Punch card","loyalty-type-radio-group.multicard-title":"Multicard","multi-card-transaction-form.form-place-title":"Place","multi-card-transaction-form.form-select-place-title":"Select place","multi-card-transaction-form.form-user-title":"User","multi-card-transaction-form.form-select-user-title":"Select user","multi-card-transaction-form.form-points-title":"Add or deduct points","multi-card-transaction-form.button-submit-title":"Add","multi-card-transaction-form.button-cancel-title":"Cancel","punch-card-transaction-form.form-reward-title":"Punch card","punch-card-transaction-form.form-select-card-title":"Select card","punch-card-transaction-form.form-user-title":"User","punch-card-transaction-form.form-select-user-title":"Select user","punch-card-transaction-form.form-points-title":"Add or deduct stamps","punch-card-transaction-form.button-submit-title":"Add","punch-card-transaction-form.button-cancel-title":"Cancel","single-card-transaction-form.form-user-title":"User","single-card-transaction-form.form-select-user-title":"Select user","single-card-transaction-form.form-points-title":"Add or deduct points","single-card-transaction-form.button-submit-title":"Add","single-card-transaction-form.button-cancel-title":"Cancel","transaction-table-row.date-format":"D MMM YYYY @ LT","transaction-table.empty-placeholder-title":"No transactions for chosen filter.","transaction-table.header-user-title":"User","transaction-table.header-card-title":"Card","transaction-table.header-place-title":"Place","transaction-table.header-cashier-title":"Cashier","transaction-table.header-time-title":"Time","transaction-table.header-transaction-title":"Transaction","add-transaction-fragment.unable-to-create-message":"Unable to create transaction.","add-transaction-fragment.title":"Add transaction","add-transaction-fragment.button-add-title":"Add transaction","transactions-dashboard.delete-transacation.title":"Delete transaction","transactions-dashboard.delete-transacation.message":"\'This will erase the points added or deducted during the transaction. Are you sure?\'","transactions-dashboard.delete-transacation.button-confirm-title":"Delete","transactions-dashboard.delete-transacation.button-abort-title":"Cancel","transactions-dashboard.overall-statistics-title":"Overall statistics","transactions-dashboard.title":"Transactions","transactions-filter.filter-by-user-placeholder-message":"Filter by user","transactions-filter.filter-by-card-placeholder-message":"Filter by card","transactions-filter.filter-by-place-placeholder-message":"Filter by place","transactions-filter.filter-by-cashier-placeholder-message":"Filter by cashier","transactions-services.points-missing-message":"Points must be provided","transactions-services.only-numbers-allowed-message":"Only numbers are allowed","transactions-services.user-missing-message":"User must be provided","transactions-services.place-missing-message":"Place must be provided","transactions-services.punch-missing-message":"Punch card must be provided","default-loyalty-shorcut-settings-page.description":"To configure your Loyalty program, please click <1>here</1>.","loyalty-settings-page.form-all-stores-title":"All stores","loyalty-settings-page.form-select-store-title":"Select a store","transactions-page.title":"Transactions","services.loyalty-endpoint-missing":"Loyalty endpoint cannot be empty!","Place Rewards":"Place Rewards","Title":"Title","Image":"Image","Description":"Description","Start of validity":"Start of validity","End of validity":"End of validity","Points required":"Points required","Number of rewards":"Number of rewards","Store":"Store","Places":"Places","Place name":"Place name","Website":"Website","E-mail":"E-mail","Open Hours":"Open Hours","Phone":"Phone","Location":"Location","Punch cards":"Punch cards","Stamps required":"Stamps required","Rewards":"Rewards","Miscellaneous":"Miscellaneous","Horseshoe color":"Horseshoe color"}}}')},1466:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SyncStateEngineProvider",{enumerable:!0,get:function(){return n.default}});var n=a(r(1467))},1467:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SyncStateEngineProvider=void 0;var l=a(r(57)),o=a(r(6)),u=a(r(7)),i=a(r(5)),c=a(r(9)),s=a(r(10)),d=a(r(11)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(1)),p=a(r(0)),y=r(39),m=a(r(317)),v=a(r(30));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.default)(this,r)}}var b=t.SyncStateEngineProvider=function(e){(0,c.default)(r,e);var t=h(r);function r(e){var a;return(0,o.default)(this,r),(a=t.call(this,e)).handleActions=a.handleActions.bind((0,i.default)(a)),a.handleSandboxMessage=a.handleSandboxMessage.bind((0,i.default)(a)),a.checkData=a.checkData.bind((0,i.default)(a)),a.syncStateEngine=a.props.syncStateEngine,m.default.subscribe(a.handleSandboxMessage),a.checkData(e),a}return(0,u.default)(r,[{key:"componentDidMount",value:function(){this.syncStateEngine.subscribeToActions(this.handleActions)}},{key:"componentWillReceiveProps",value:function(e){this.checkData(e,this.props)}},{key:"componentWillUnmount",value:function(){this.syncStateEngine.unsubscribeFromActions(this.handleActions)}},{key:"checkData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.state,a=e.state,n=this.syncStateEngine.calculateDifferences(r,a,(0,v.default)());n&&m.default.sendMessage.apply(m.default,(0,l.default)(n))}},{key:"handleActions",value:function(e,t){"builder"!==_.get(t,"id")&&m.default.sendMessage.apply(m.default,(0,l.default)(e))}},{key:"handleSandboxMessage",value:function(e){var t=this.syncStateEngine.processExternalChange(e,{id:"builder"});t&&this.props.syncAction(t)}},{key:"render",value:function(){var e=this.props.children;return f.Children.only(e)}}]),r}(f.Component);b.propTypes={state:p.default.object,syncStateEngine:p.default.object,syncAction:p.default.func,children:p.default.node};t.default=(0,y.connect)((function(e){return{state:e}}),(function(e){return{syncAction:function(t){return e(t)}}}))(b)},1468:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var a=[o.default,u.apiMiddleware,i.apiStateMiddleware,(0,c.syncStateEngineMiddleware)(r)],n=(0,l.compose)(l.applyMiddleware.apply(void 0,a)),p=e.ownExtensionName,y=s.default.get(d,"reducer"),m=(0,i.enableRio)((0,f.createRootReducer)(p,y)),v=(0,c.enableStateSync)(m,r);return n(l.createStore)(v,t)},r(316);var l=r(35),o=a(r(1469)),u=r(100),i=r(21),c=r(608),s=a(r(20)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}(r(611)),f=r(1470);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}},1470:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.createRootReducer=function(e,t){return(0,l.combineReducers)((0,n.default)({core:o.reducer},e,t))};var n=a(r(15)),l=r(35),o=r(85)},198:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.moduleName=t.USERS=t.PROGRAMS=t.PLACES=t.CARDS=t.AUTHORIZATIONS=void 0;var n=a(r(30));t.moduleName="program",t.PROGRAMS="shoutem.loyalty.programs",t.AUTHORIZATIONS="shoutem.loyalty.authorizations",t.CARDS="shoutem.loyalty.cards",t.USERS="shoutem.core.users",t.PLACES=(0,n.default)("places")},199:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleName=t.TRANSACTION_STATS=t.TRANSACTIONS=t.CARD_TYPES=void 0;t.moduleName="transactions",t.TRANSACTIONS="shoutem.loyalty.transactions",t.TRANSACTION_STATS="shoutem.loyalty.reporting.general-stats",t.CARD_TYPES={POINTS:"points",PUNCH:"punch"}},30:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.LOYALTY_TYPES=void 0,t.default=function(e){return e?"".concat(n.default.name,".").concat(e):n.default.name};var n=a(r(1248));t.LOYALTY_TYPES={POINTS:"points",PUNCH:"punch",MULTI:"multi"}},304:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoyaltyDisabledPlaceholder",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ToggleSwitch",{enumerable:!0,get:function(){return l.default}});var n=a(r(1367)),l=a(r(1372))},305:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RulesSettings",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"createRule",{enumerable:!0,get:function(){return l.createRule}}),t.default=void 0,Object.defineProperty(t,"moduleName",{enumerable:!0,get:function(){return l.moduleName}});var n=a(r(1381)),l=r(656);t.default=l.reducer},306:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CARD_TYPES",{enumerable:!0,get:function(){return a.CARD_TYPES}}),Object.defineProperty(t,"TRANSACTIONS",{enumerable:!0,get:function(){return a.TRANSACTIONS}}),Object.defineProperty(t,"TRANSACTION_STATS",{enumerable:!0,get:function(){return a.TRANSACTION_STATS}}),Object.defineProperty(t,"createTransaction",{enumerable:!0,get:function(){return n.createTransaction}}),Object.defineProperty(t,"deleteTransaction",{enumerable:!0,get:function(){return n.deleteTransaction}}),Object.defineProperty(t,"getGeneralStats",{enumerable:!0,get:function(){return o.getGeneralStats}}),Object.defineProperty(t,"getTransactionInfos",{enumerable:!0,get:function(){return o.getTransactionInfos}}),Object.defineProperty(t,"getTransactions",{enumerable:!0,get:function(){return o.getTransactions}}),Object.defineProperty(t,"loadGeneralStats",{enumerable:!0,get:function(){return n.loadGeneralStats}}),Object.defineProperty(t,"loadNextTransactionsPage",{enumerable:!0,get:function(){return n.loadNextTransactionsPage}}),Object.defineProperty(t,"loadPreviousTransactionsPage",{enumerable:!0,get:function(){return n.loadPreviousTransactionsPage}}),Object.defineProperty(t,"loadTransactions",{enumerable:!0,get:function(){return n.loadTransactions}}),Object.defineProperty(t,"moduleName",{enumerable:!0,get:function(){return a.moduleName}}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return l.reducer}});var a=r(199),n=r(1402),l=r(1403),o=r(1404)},307:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GeneralStats",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"LoyaltyTypeRadioGroup",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"MultiCardTransactionForm",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PunchCardTransactionForm",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SingleCardTransactionForm",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TransactionsTable",{enumerable:!0,get:function(){return c.default}});var n=a(r(1405)),l=a(r(1409)),o=a(r(1415)),u=a(r(1422)),i=a(r(1426)),c=a(r(1430))},46:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createSelectOptions",{enumerable:!0,get:function(){return u.createSelectOptions}}),Object.defineProperty(t,"getErrorCode",{enumerable:!0,get:function(){return o.getErrorCode}}),t.getLoyaltyUrl=void 0,Object.defineProperty(t,"getProgramId",{enumerable:!0,get:function(){return i.getProgramId}}),Object.defineProperty(t,"initializeApiEndpoints",{enumerable:!0,get:function(){return i.initializeApiEndpoints}}),t.shoutemUrls=t.loyaltyApi=void 0;var n=a(r(1301)),l=a(r(1303)),o=r(1304),u=r(1305),i=r(1306),c=t.loyaltyApi=new n.default;t.getLoyaltyUrl=c.getUrl,t.shoutemUrls=new l.default},611:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageWillMount=function(e){a.cmsApi.initSession(e),o.shoutemUrls.init(e),t.reducer=(0,l.reducer)()},t.reducer=t.pages=void 0;var a=r(108),n=r(1252),l=r(63),o=r(46);r(1458);t.pages={LoyaltySettingsPage:n.LoyaltySettingsPage,DefaultLoyaltyShortcutSettingsPage:n.DefaultLoyaltyShortcutSettingsPage,TransactionsPage:n.TransactionsPage},t.reducer=null},612:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getCmsUrl=t.cmsApi=void 0,Object.defineProperty(t,"rsaaPromise",{enumerable:!0,get:function(){return l.default}});var n=a(r(1249)),l=a(r(1251)),o=t.cmsApi=new n.default;t.getCmsUrl=o.getUrl},63:function(e,t,r){"use strict";var a=r(2),n=r(12);Object.defineProperty(t,"__esModule",{value:!0}),t.getFormState=function(e){return _.get(e,[(0,u.default)(),"form"])},t.navigateToSettings=function(e,t){return{type:"@@navigator/NAVIGATE_REQUEST",payload:{component:"settings",options:{appId:e,sectionId:t}}}},t.navigateToUrl=function(e){return{type:"@@navigator/NAVIGATE_REQUEST",payload:{component:"external",options:{url:e}}}},t.reducer=void 0;var l=a(r(15)),o=r(109),u=a(r(30)),i=v(r(112)),c=v(r(108)),s=v(r(81)),d=v(r(113)),f=v(r(305)),p=v(r(657)),y=r(85);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}t.reducer=function(){var e;return(0,y.createScopedReducer)({extension:(e={form:o.reducer},(0,l.default)(e,s.moduleName,s.default),(0,l.default)(e,f.moduleName,f.default),(0,l.default)(e,i.moduleName,i.default),(0,l.default)(e,c.moduleName,c.default),(0,l.default)(e,p.moduleName,p.default),(0,l.default)(e,d.moduleName,d.default),e)})}},638:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getErrorMessage",{enumerable:!0,get:function(){return a.getErrorMessage}}),Object.defineProperty(t,"validateCashier",{enumerable:!0,get:function(){return a.validateCashier}});var a=r(1311)},64:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatCashierLabel",{enumerable:!0,get:function(){return a.formatCashierLabel}}),Object.defineProperty(t,"formatPlaceLabel",{enumerable:!0,get:function(){return a.formatPlaceLabel}}),Object.defineProperty(t,"formatRewardLabel",{enumerable:!0,get:function(){return a.formatRewardLabel}}),Object.defineProperty(t,"formatUserLabel",{enumerable:!0,get:function(){return a.formatUserLabel}}),Object.defineProperty(t,"getTransactionCount",{enumerable:!0,get:function(){return n.getTransactionCount}}),Object.defineProperty(t,"validateMultiCardTransaction",{enumerable:!0,get:function(){return n.validateMultiCardTransaction}}),Object.defineProperty(t,"validatePunchCardTransaction",{enumerable:!0,get:function(){return n.validatePunchCardTransaction}}),Object.defineProperty(t,"validateSingleCardTransaction",{enumerable:!0,get:function(){return n.validateSingleCardTransaction}});var a=r(1417),n=r(1418)},652:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="cashier-form",n="".concat(a,".form-first-name-title"),l="".concat(a,".form-last-name-title"),o="".concat(a,".form-email-address-title"),u="".concat(a,".form-password-title"),i="".concat(a,".password-help-text"),c="".concat(a,".form-pin-title"),s="".concat(a,".pin-help-text"),d="".concat(a,".form-all-stores-title"),f="".concat(a,".form-select-store-title"),p="".concat(a,".button-save-title"),y="".concat(a,".button-add-title"),m="".concat(a,".button-cancel-title");t.default={FORM_FIRST_NAME_TITLE:n,FORM_LAST_NAME_TITLE:l,FORM_EMAIL_ADDRESS_TITLE:o,FORM_PASSWORD_TITLE:u,PASSWORD_HELP_TEXT:i,FORM_PIN_TITLE:c,PIN_HELP_TEXT:s,FORM_ALL_STORES_TITLE:d,FORM_SELECT_STORE_TITLE:f,BUTTON_SAVE_TITLE:p,BUTTON_ADD_TITLE:y,BUTTON_CANCEL_TITLE:m}},653:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CASHIERS=void 0,t.createCashier=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={schema:m,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(t,"/cashiers")),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},l={type:m,attributes:p({app:r},e)};return(0,d.create)(n,l,a)},t.deleteCashier=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={schema:m,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(t,"/cashiers/").concat(e)),headers:{}}},n={type:m,id:e};return(0,d.remove)(a,n,r)},t.getCashiers=g,t.getCashiersState=v,t.getCashiersWithPlace=void 0,t.loadCashiers=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=p({q:{"filter[location]":t}},r),n={schema:m,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(e,"/cashiers{?q*}")),headers:{Accept:"application/vnd.api+json"}}};return(0,d.find)(n,(0,i.default)("cashiers"),a)},t.reducer=t.moduleName=void 0,t.updateCashier=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={schema:m,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(r,"/cashiers/").concat(e)),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},l={type:m,id:e,attributes:t};return(0,d.update)(n,l,a)};var n=a(r(15)),l=a(r(20)),o=r(35),u=r(197),i=a(r(30)),c=r(81),s=r(46),d=r(21);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=t.moduleName="cashiers",m=t.CASHIERS="shoutem.loyalty.cashiers";function v(e){return e[(0,i.default)()][y]}function g(e){var t=v(e).current;return(0,d.getCollection)(t,e)}t.getCashiersWithPlace=(0,u.createSelector)((function(e){return g(e)}),(function(e){return(0,c.getLoyaltyPlaces)(e)}),(function(e,t){var r=l.default.map(e,(function(e){var r=l.default.find(t,{id:e.location}),a=l.default.get(r,"name","All");return p(p({},e),{},{placeName:a})}));return(0,d.cloneStatus)(e,r),r}));t.reducer=(0,o.combineReducers)({storage:(0,d.storage)(m),current:(0,d.collection)(m,(0,i.default)("cashiers"))})},654:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createAuthorization",{enumerable:!0,get:function(){return a.createAuthorization}}),Object.defineProperty(t,"createCard",{enumerable:!0,get:function(){return a.createCard}}),Object.defineProperty(t,"enableLoyalty",{enumerable:!0,get:function(){return a.enableLoyalty}}),Object.defineProperty(t,"getAuthorizationByType",{enumerable:!0,get:function(){return l.getAuthorizationByType}}),Object.defineProperty(t,"getCards",{enumerable:!0,get:function(){return l.getCards}}),Object.defineProperty(t,"getCardsByUserId",{enumerable:!0,get:function(){return l.getCardsByUserId}}),Object.defineProperty(t,"getLoyaltyPlaces",{enumerable:!0,get:function(){return l.getLoyaltyPlaces}}),Object.defineProperty(t,"getUsers",{enumerable:!0,get:function(){return l.getUsers}}),Object.defineProperty(t,"loadAuthorizations",{enumerable:!0,get:function(){return a.loadAuthorizations}}),Object.defineProperty(t,"loadCards",{enumerable:!0,get:function(){return a.loadCards}}),Object.defineProperty(t,"loadLoyaltyPlaces",{enumerable:!0,get:function(){return a.loadLoyaltyPlaces}}),Object.defineProperty(t,"loadUsers",{enumerable:!0,get:function(){return a.loadUsers}}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return n.reducer}}),Object.defineProperty(t,"updateAuthorization",{enumerable:!0,get:function(){return a.updateAuthorization}});var a=r(1380),n=r(1397),l=r(1398)},655:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRulesToCreate",{enumerable:!0,get:function(){return a.getRulesToCreate}}),Object.defineProperty(t,"getRulesToDelete",{enumerable:!0,get:function(){return a.getRulesToDelete}}),Object.defineProperty(t,"getRulesToUpdate",{enumerable:!0,get:function(){return a.getRulesToUpdate}}),Object.defineProperty(t,"transformNumericRule",{enumerable:!0,get:function(){return a.transformNumericRule}}),Object.defineProperty(t,"validateNumericRule",{enumerable:!0,get:function(){return a.validateNumericRule}});var a=r(1388)},656:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.RULES=void 0,t.createRule=b,t.createRules=function(e,t,r,a){return function(n){var l=o.default.map(e,(function(e){return b(e,t,r,a)}));return Promise.all(o.default.map(l,n))}},t.deleteRule=T,t.deleteRules=function(e,t,r){return function(a){var n=o.default.map(e,(function(e){return T(e.id,t,r)}));return Promise.all(o.default.map(n,a))}},t.getRules=h,t.getRulesById=void 0,t.getRulesState=g,t.loadRules=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=y({q:{"filter[location]":t||"null"}},r),n={schema:v,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(e,"/rules{?q*}")),headers:{Accept:"application/vnd.api+json"}}};return(0,d.find)(n,(0,c.default)("rules"),a)},t.reducer=t.moduleName=void 0,t.updateRule=E,t.updateRules=function(e,t,r,a,l){return function(u){var i=o.default.map((0,f.getRulesToDelete)(t),(function(e){return u(T(e.id,r,l))})),c=o.default.map((0,f.getRulesToUpdate)(e,t),(function(e){return u(E(e.id,e,r,l))})),s=o.default.map((0,f.getRulesToCreate)(t),(function(e){return u(b(e,r,a,l))}));return Promise.all([].concat((0,n.default)(i),(0,n.default)(c),(0,n.default)(s)))}};var n=a(r(57)),l=a(r(15)),o=a(r(20)),u=r(35),i=r(197),c=a(r(30)),s=r(46),d=r(21),f=r(655);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=t.moduleName="rules",v=t.RULES="shoutem.loyalty.rules";function g(e){return e[(0,c.default)()][m]}function h(e){var t=g(e).current;return(0,d.getCollection)(t,e)}t.getRulesById=(0,i.createSelector)(h,(function(e){var t=o.default.keyBy(e,"id");return(0,d.cloneStatus)(e,t),t}));function b(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={schema:v,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(t,"/rules")),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},l={type:v,attributes:y(y({},e),{},{location:r})};return(0,d.create)(n,l,a)}function E(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={schema:v,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(r,"/rules/").concat(e)),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}},l={type:v,id:e,attributes:y({},t)};return(0,d.update)(n,l,a)}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={schema:v,request:{endpoint:(0,s.getLoyaltyUrl)("/v1/programs/".concat(t,"/rules/").concat(e)),headers:{}}},n={type:v,id:e};return(0,d.remove)(a,n,r)}t.reducer=(0,u.combineReducers)({storage:(0,d.storage)(v),current:(0,d.collection)(v,(0,c.default)("rules"))})},657:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AddTransactionFragment",{enumerable:!0,get:function(){return l.AddTransactionFragment}}),Object.defineProperty(t,"GeneralStats",{enumerable:!0,get:function(){return n.GeneralStats}}),Object.defineProperty(t,"LoyaltyTypeRadioGroup",{enumerable:!0,get:function(){return n.LoyaltyTypeRadioGroup}}),Object.defineProperty(t,"TransactionsDashboard",{enumerable:!0,get:function(){return l.TransactionsDashboard}}),Object.defineProperty(t,"TransactionsFilter",{enumerable:!0,get:function(){return l.TransactionsFilter}}),Object.defineProperty(t,"createTransaction",{enumerable:!0,get:function(){return a.createTransaction}}),t.default=void 0,Object.defineProperty(t,"deleteTransaction",{enumerable:!0,get:function(){return a.deleteTransaction}}),Object.defineProperty(t,"getGeneralStats",{enumerable:!0,get:function(){return a.getGeneralStats}}),Object.defineProperty(t,"getTransactionCount",{enumerable:!0,get:function(){return o.getTransactionCount}}),Object.defineProperty(t,"getTransactions",{enumerable:!0,get:function(){return a.getTransactions}}),Object.defineProperty(t,"loadGeneralStats",{enumerable:!0,get:function(){return a.loadGeneralStats}}),Object.defineProperty(t,"loadNextTransactionsPage",{enumerable:!0,get:function(){return a.loadNextTransactionsPage}}),Object.defineProperty(t,"loadPreviousTransactionsPage",{enumerable:!0,get:function(){return a.loadPreviousTransactionsPage}}),Object.defineProperty(t,"loadTransactions",{enumerable:!0,get:function(){return a.loadTransactions}}),Object.defineProperty(t,"moduleName",{enumerable:!0,get:function(){return a.moduleName}});var a=r(306),n=r(307),l=r(1438),o=r(64);t.default=a.reducer},658:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1439));t.default=n.default},673:function(e,t,r){"use strict";var a=r(2),n=r(12);r(674),r(316),r(317);var l=a(r(1)),o=a(r(22)),u=r(39),i=a(r(20)),c=a(r(54)),s=E(r(85)),d=r(29),f=r(21),p=r(608),y=E(r(611)),m=r(1459),v=r(1463),g=r(1466),h=a(r(1468));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}r(1471).polyfill();var T=new c.default(window.location.href),O=i.default.get(T.search(!0),"page",""),_=i.default.get(y,["pages",O]),P=new f.RioStateSerializer;document.addEventListener("shoutemready",(function(e){var t=P.deserialize(e.detail.config),r=t.context,a=t.parameters,n=t.state,c=new m.Page(r,a);s.default.init(r);var d=i.default.get(y,"pageWillMount");d&&d(c);var f=new p.SyncStateEngine({stateSerializer:P}),b=(0,h.default)(r,n,f);!function(e,t){var r=e.ownExtensionName,a=(0,s.getExtension)(t,r),n=[i.default.get(a,"settings.services.core.loyalty")],l=i.default.cloneDeep(e);i.default.set(l,"url.additionalApiEndpoints",n),s.default.init(l)}(r,n),o.default.unmountComponentAtNode(document.getElementById("root")),o.default.render(l.default.createElement(u.Provider,{store:b},l.default.createElement(g.SyncStateEngineProvider,{syncStateEngine:f},l.default.createElement(v.LocalizationProvider,{context:r},l.default.createElement(m.PageProvider,{page:c},function(){if(!_)return l.default.createElement("div",null,"Page not found: ",O);var e=(0,m.connectPage)()(_);return l.default.createElement(e,null)}())))),document.getElementById("root"))}),!1),o.default.render(l.default.createElement(d.LoaderContainer,{size:"50px",isLoading:!0}),document.getElementById("root"))},81:function(e,t,r){"use strict";var a=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AUTHORIZATIONS",{enumerable:!0,get:function(){return o.AUTHORIZATIONS}}),Object.defineProperty(t,"CARDS",{enumerable:!0,get:function(){return o.CARDS}}),Object.defineProperty(t,"PLACES",{enumerable:!0,get:function(){return o.PLACES}}),Object.defineProperty(t,"PROGRAMS",{enumerable:!0,get:function(){return o.PROGRAMS}}),Object.defineProperty(t,"ProgramSettings",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"USERS",{enumerable:!0,get:function(){return o.USERS}}),Object.defineProperty(t,"createCard",{enumerable:!0,get:function(){return l.createCard}}),t.default=void 0,Object.defineProperty(t,"enableLoyalty",{enumerable:!0,get:function(){return l.enableLoyalty}}),Object.defineProperty(t,"getCards",{enumerable:!0,get:function(){return l.getCards}}),Object.defineProperty(t,"getCardsByUserId",{enumerable:!0,get:function(){return l.getCardsByUserId}}),Object.defineProperty(t,"getLoyaltyPlaces",{enumerable:!0,get:function(){return l.getLoyaltyPlaces}}),Object.defineProperty(t,"getUsers",{enumerable:!0,get:function(){return l.getUsers}}),Object.defineProperty(t,"loadCards",{enumerable:!0,get:function(){return l.loadCards}}),Object.defineProperty(t,"loadLoyaltyPlaces",{enumerable:!0,get:function(){return l.loadLoyaltyPlaces}}),Object.defineProperty(t,"loadUsers",{enumerable:!0,get:function(){return l.loadUsers}}),Object.defineProperty(t,"moduleName",{enumerable:!0,get:function(){return o.moduleName}});var n=a(r(1365)),l=r(654),o=r(198);t.default=l.reducer},877:function(e,t){}});